var Nt=Object.defineProperty;var Ct=(t,e,n)=>e in t?Nt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Re=(t,e,n)=>(Ct(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function T(){}function q(t,e){for(const n in e)t[n]=e[n];return t}function gt(t){return t()}function Ke(){return Object.create(null)}function X(t){t.forEach(gt)}function vt(t){return typeof t=="function"}function x(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function zt(t){return Object.keys(t).length===0}function Vt(t,...e){if(t==null){for(const l of e)l(void 0);return T}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function oe(t,e,n){t.$$.on_destroy.push(Vt(e,n))}function Ue(t,e,n,l){if(t){const s=kt(t,e,n,l);return t[0](s)}}function kt(t,e,n,l){return t[1]&&l?q(n.ctx.slice(),t[1](l(e))):n.ctx}function Ne(t,e,n,l){if(t[2]&&l){const s=t[2](l(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const o=[],i=Math.max(e.dirty.length,s.length);for(let a=0;a<i;a+=1)o[a]=e.dirty[a]|s[a];return o}return e.dirty|s}return e.dirty}function Ce(t,e,n,l,s,o){if(s){const i=kt(e,n,l,o);t.p(i,s)}}function ze(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}function ce(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Qe(t,e){const n={};e=new Set(e);for(const l in t)!e.has(l)&&l[0]!=="$"&&(n[l]=t[l]);return n}function d(t,e){t.appendChild(e)}function R(t,e,n){t.insertBefore(e,n||null)}function I(t){t.parentNode&&t.parentNode.removeChild(t)}function Je(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function y(t){return document.createElement(t)}function yt(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function E(t){return document.createTextNode(t)}function V(){return E(" ")}function ke(){return E("")}function D(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function p(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ie(t,e){for(const n in e)p(t,n,e[n])}function wt(t){return t===""?null:+t}function Et(t){return Array.from(t.childNodes)}function J(t,e){e=""+e,t.data!==e&&(t.data=e)}function Y(t,e){t.value=e??""}function We(t,e,n){for(let l=0;l<t.options.length;l+=1){const s=t.options[l];if(s.__value===e){s.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Xe(t){const e=t.querySelector(":checked");return e&&e.__value}function Ye(t,e,n){t.classList.toggle(e,!!n)}let $e;function we(t){$e=t}function $t(){if(!$e)throw new Error("Function called outside component initialization");return $e}function Mt(t){$t().$$.on_mount.push(t)}function Lt(t){$t().$$.on_destroy.push(t)}const ge=[],Ze=[];let ve=[];const xe=[],Ot=Promise.resolve();let Te=!1;function At(){Te||(Te=!0,Ot.then(jt))}function je(t){ve.push(t)}const Pe=new Set;let pe=0;function jt(){if(pe!==0)return;const t=$e;do{try{for(;pe<ge.length;){const e=ge[pe];pe++,we(e),It(e.$$)}}catch(e){throw ge.length=0,pe=0,e}for(we(null),ge.length=0,pe=0;Ze.length;)Ze.pop()();for(let e=0;e<ve.length;e+=1){const n=ve[e];Pe.has(n)||(Pe.add(n),n())}ve.length=0}while(ge.length);for(;xe.length;)xe.pop()();Te=!1,Pe.clear(),we(t)}function It(t){if(t.fragment!==null){t.update(),X(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(je)}}function Wt(t){const e=[],n=[];ve.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),ve=e}const Oe=new Set;let fe;function de(){fe={r:0,c:[],p:fe}}function _e(){fe.r||X(fe.c),fe=fe.p}function z(t,e){t&&t.i&&(Oe.delete(t),t.i(e))}function L(t,e,n,l){if(t&&t.o){if(Oe.has(t))return;Oe.add(t),fe.c.push(()=>{Oe.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}function ie(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Jt(t,e){L(t,1,1,()=>{e.delete(t.key)})}function Rt(t,e,n,l,s,o,i,a,r,u,b,f){let c=t.length,m=o.length,_=c;const j={};for(;_--;)j[t[_].key]=_;const w=[],h=new Map,S=new Map,N=[];for(_=m;_--;){const $=f(s,o,_),M=n($);let O=i.get(M);O?l&&N.push(()=>O.p($,e)):(O=u(M,$),O.c()),h.set(M,w[_]=O),M in j&&S.set(M,Math.abs(_-j[M]))}const P=new Set,B=new Set;function U($){z($,1),$.m(a,b),i.set($.key,$),b=$.first,m--}for(;c&&m;){const $=w[m-1],M=t[c-1],O=$.key,F=M.key;$===M?(b=$.first,c--,m--):h.has(F)?!i.has(O)||P.has(O)?U($):B.has(F)?c--:S.get(O)>S.get(F)?(B.add(O),U($)):(P.add(F),c--):(r(M,i),c--)}for(;c--;){const $=t[c];h.has($.key)||r($,i)}for(;m;)U(w[m-1]);return X(N),w}function Ve(t,e){const n={},l={},s={$$scope:1};let o=t.length;for(;o--;){const i=t[o],a=e[o];if(a){for(const r in i)r in a||(l[r]=1);for(const r in a)s[r]||(n[r]=a[r],s[r]=1);t[o]=a}else for(const r in i)s[r]=1}for(const i in l)i in n||(n[i]=void 0);return n}function Fe(t){return typeof t=="object"&&t!==null?t:{}}function Z(t){t&&t.c()}function K(t,e,n){const{fragment:l,after_update:s}=t.$$;l&&l.m(e,n),je(()=>{const o=t.$$.on_mount.map(gt).filter(vt);t.$$.on_destroy?t.$$.on_destroy.push(...o):X(o),t.$$.on_mount=[]}),s.forEach(je)}function Q(t,e){const n=t.$$;n.fragment!==null&&(Wt(n.after_update),X(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Pt(t,e){t.$$.dirty[0]===-1&&(ge.push(t),At(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ae(t,e,n,l,s,o,i=null,a=[-1]){const r=$e;we(t);const u=t.$$={fragment:null,ctx:[],props:o,update:T,not_equal:s,bound:Ke(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(r?r.$$.context:[])),callbacks:Ke(),dirty:a,skip_bound:!1,root:e.target||r.$$.root};i&&i(u.root);let b=!1;if(u.ctx=n?n(t,e.props||{},(f,c,...m)=>{const _=m.length?m[0]:c;return u.ctx&&s(u.ctx[f],u.ctx[f]=_)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](_),b&&Pt(t,f)),c}):[],u.update(),b=!0,X(u.before_update),u.fragment=l?l(u.ctx):!1,e.target){if(e.hydrate){const f=Et(e.target);u.fragment&&u.fragment.l(f),f.forEach(I)}else u.fragment&&u.fragment.c();e.intro&&z(t.$$.fragment),K(t,e.target,e.anchor),jt()}we(r)}class re{constructor(){Re(this,"$$");Re(this,"$$set")}$destroy(){Q(this,1),this.$destroy=T}$on(e,n){if(!vt(n))return T;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const s=l.indexOf(n);s!==-1&&l.splice(s,1)}}$set(e){this.$$set&&!zt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Dt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Dt);const ye=new Map,Tt=t=>{const{action:e,data:n}=t.data,l=ye.get(e);l&&l.forEach(s=>s(n))};window.addEventListener("message",Tt);function Le(t,e){const n=ye.get(t)||[];n.push(e),ye.set(t,n),Lt(()=>{const l=ye.get(t)||[];ye.set(t,l.filter(s=>s!==e))})}async function le(t,e={}){const n={method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(e)},l=window.GetParentResourceName?window.GetParentResourceName():"nui-frame-app";return await(await fetch(`https://${l}/${t}`,n)).json()}const be=[];function me(t,e=T){let n;const l=new Set;function s(a){if(x(t,a)&&(t=a,n)){const r=!be.length;for(const u of l)u[1](),be.push(u,t);if(r){for(let u=0;u<be.length;u+=2)be[u][0](be[u+1]);be.length=0}}}function o(a){s(a(t))}function i(a,r=T){const u=[a,r];return l.add(u),l.size===1&&(n=e(s,o)||T),a(t),()=>{l.delete(u),l.size===0&&n&&(n(),n=null)}}return{set:s,update:o,subscribe:i}}const Se=()=>!window.invokeNative,se=me(Se()),Be=me(null),Ee=me(null),Ae=me(null),te=me(null),he=me(null),Ge=me(null);/**
 * @license lucide-svelte v0.544.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 * ---
 * 
 * The MIT License (MIT) (for portions derived from Feather)
 * 
 * Copyright (c) 2013-2023 Cole Bemis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const Ft={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},et=Ft;function tt(t,e,n){const l=t.slice();return l[11]=e[n][0],l[12]=e[n][1],l}function De(t){let e,n=[t[12]],l={};for(let s=0;s<n.length;s+=1)l=q(l,n[s]);return{c(){e=yt(t[11]),Ie(e,l)},m(s,o){R(s,e,o)},p(s,o){Ie(e,l=Ve(n,[o&32&&s[12]]))},d(s){s&&I(e)}}}function nt(t){let e=t[11],n,l=t[11]&&De(t);return{c(){l&&l.c(),n=ke()},m(s,o){l&&l.m(s,o),R(s,n,o)},p(s,o){s[11]?e?x(e,s[11])?(l.d(1),l=De(s),e=s[11],l.c(),l.m(n.parentNode,n)):l.p(s,o):(l=De(s),e=s[11],l.c(),l.m(n.parentNode,n)):e&&(l.d(1),l=null,e=s[11])},d(s){s&&I(n),l&&l.d(s)}}}function Bt(t){let e,n,l,s,o,i=ie(t[5]),a=[];for(let c=0;c<i.length;c+=1)a[c]=nt(tt(t,i,c));const r=t[10].default,u=Ue(r,t,t[9],null);let b=[et,t[7],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":l=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:s=t[6]("lucide-icon","lucide",t[0]?`lucide-${t[0]}`:"",t[8].class)}],f={};for(let c=0;c<b.length;c+=1)f=q(f,b[c]);return{c(){e=yt("svg");for(let c=0;c<a.length;c+=1)a[c].c();n=ke(),u&&u.c(),Ie(e,f)},m(c,m){R(c,e,m);for(let _=0;_<a.length;_+=1)a[_]&&a[_].m(e,null);d(e,n),u&&u.m(e,null),o=!0},p(c,[m]){if(m&32){i=ie(c[5]);let _;for(_=0;_<i.length;_+=1){const j=tt(c,i,_);a[_]?a[_].p(j,m):(a[_]=nt(j),a[_].c(),a[_].m(e,n))}for(;_<a.length;_+=1)a[_].d(1);a.length=i.length}u&&u.p&&(!o||m&512)&&Ce(u,r,c,c[9],o?Ne(r,c[9],m,null):ze(c[9]),null),Ie(e,f=Ve(b,[et,m&128&&c[7],(!o||m&4)&&{width:c[2]},(!o||m&4)&&{height:c[2]},(!o||m&2)&&{stroke:c[1]},(!o||m&28&&l!==(l=c[4]?Number(c[3])*24/Number(c[2]):c[3]))&&{"stroke-width":l},(!o||m&257&&s!==(s=c[6]("lucide-icon","lucide",c[0]?`lucide-${c[0]}`:"",c[8].class)))&&{class:s}]))},i(c){o||(z(u,c),o=!0)},o(c){L(u,c),o=!1},d(c){c&&I(e),Je(a,c),u&&u.d(c)}}}function Gt(t,e,n){const l=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let s=Qe(e,l),{$$slots:o={},$$scope:i}=e,{name:a=void 0}=e,{color:r="currentColor"}=e,{size:u=24}=e,{strokeWidth:b=2}=e,{absoluteStrokeWidth:f=!1}=e,{iconNode:c=[]}=e;const m=(..._)=>_.filter((j,w,h)=>!!j&&h.indexOf(j)===w).join(" ");return t.$$set=_=>{n(8,e=q(q({},e),ce(_))),n(7,s=Qe(e,l)),"name"in _&&n(0,a=_.name),"color"in _&&n(1,r=_.color),"size"in _&&n(2,u=_.size),"strokeWidth"in _&&n(3,b=_.strokeWidth),"absoluteStrokeWidth"in _&&n(4,f=_.absoluteStrokeWidth),"iconNode"in _&&n(5,c=_.iconNode),"$$scope"in _&&n(9,i=_.$$scope)},e=ce(e),[a,r,u,b,f,c,m,s,e,i,o]}class qt extends re{constructor(e){super(),ae(this,e,Gt,Bt,x,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}const qe=qt;function Ht(t){let e;const n=t[2].default,l=Ue(n,t,t[3],null);return{c(){l&&l.c()},m(s,o){l&&l.m(s,o),e=!0},p(s,o){l&&l.p&&(!e||o&8)&&Ce(l,n,s,s[3],e?Ne(n,s[3],o,null):ze(s[3]),null)},i(s){e||(z(l,s),e=!0)},o(s){L(l,s),e=!1},d(s){l&&l.d(s)}}}function Kt(t){let e,n;const l=[{name:"chevron-down"},t[1],{iconNode:t[0]}];let s={$$slots:{default:[Ht]},$$scope:{ctx:t}};for(let o=0;o<l.length;o+=1)s=q(s,l[o]);return e=new qe({props:s}),{c(){Z(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,[i]){const a=i&3?Ve(l,[l[0],i&2&&Fe(o[1]),i&1&&{iconNode:o[0]}]):{};i&8&&(a.$$scope={dirty:i,ctx:o}),e.$set(a)},i(o){n||(z(e.$$.fragment,o),n=!0)},o(o){L(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function Qt(t,e,n){let{$$slots:l={},$$scope:s}=e;const o=[["path",{d:"m6 9 6 6 6-6"}]];return t.$$set=i=>{n(1,e=q(q({},e),ce(i))),"$$scope"in i&&n(3,s=i.$$scope)},e=ce(e),[o,e,l,s]}class Xt extends re{constructor(e){super(),ae(this,e,Qt,Kt,x,{})}}const He=Xt;function Yt(t){let e;const n=t[2].default,l=Ue(n,t,t[3],null);return{c(){l&&l.c()},m(s,o){l&&l.m(s,o),e=!0},p(s,o){l&&l.p&&(!e||o&8)&&Ce(l,n,s,s[3],e?Ne(n,s[3],o,null):ze(s[3]),null)},i(s){e||(z(l,s),e=!0)},o(s){L(l,s),e=!1},d(s){l&&l.d(s)}}}function Zt(t){let e,n;const l=[{name:"chevron-up"},t[1],{iconNode:t[0]}];let s={$$slots:{default:[Yt]},$$scope:{ctx:t}};for(let o=0;o<l.length;o+=1)s=q(s,l[o]);return e=new qe({props:s}),{c(){Z(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,[i]){const a=i&3?Ve(l,[l[0],i&2&&Fe(o[1]),i&1&&{iconNode:o[0]}]):{};i&8&&(a.$$scope={dirty:i,ctx:o}),e.$set(a)},i(o){n||(z(e.$$.fragment,o),n=!0)},o(o){L(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function xt(t,e,n){let{$$slots:l={},$$scope:s}=e;const o=[["path",{d:"m18 15-6-6-6 6"}]];return t.$$set=i=>{n(1,e=q(q({},e),ce(i))),"$$scope"in i&&n(3,s=i.$$scope)},e=ce(e),[o,e,l,s]}class en extends re{constructor(e){super(),ae(this,e,xt,Zt,x,{})}}const tn=en;function nn(t){let e;const n=t[2].default,l=Ue(n,t,t[3],null);return{c(){l&&l.c()},m(s,o){l&&l.m(s,o),e=!0},p(s,o){l&&l.p&&(!e||o&8)&&Ce(l,n,s,s[3],e?Ne(n,s[3],o,null):ze(s[3]),null)},i(s){e||(z(l,s),e=!0)},o(s){L(l,s),e=!1},d(s){l&&l.d(s)}}}function ln(t){let e,n;const l=[{name:"plus"},t[1],{iconNode:t[0]}];let s={$$slots:{default:[nn]},$$scope:{ctx:t}};for(let o=0;o<l.length;o+=1)s=q(s,l[o]);return e=new qe({props:s}),{c(){Z(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,[i]){const a=i&3?Ve(l,[l[0],i&2&&Fe(o[1]),i&1&&{iconNode:o[0]}]):{};i&8&&(a.$$scope={dirty:i,ctx:o}),e.$set(a)},i(o){n||(z(e.$$.fragment,o),n=!0)},o(o){L(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function sn(t,e,n){let{$$slots:l={},$$scope:s}=e;const o=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];return t.$$set=i=>{n(1,e=q(q({},e),ce(i))),"$$scope"in i&&n(3,s=i.$$scope)},e=ce(e),[o,e,l,s]}class on extends re{constructor(e){super(),ae(this,e,sn,ln,x,{})}}const an=on;function lt(t,e,n){const l=t.slice();return l[8]=e[n],l}function st(t){let e,n,l=t[2].Ui.select.objHead+"",s,o,i,a,r=t[2].Ui.select.objDesc+"",u,b,f,c,m,_,j=ie(t[3]),w=[];for(let h=0;h<j.length;h+=1)w[h]=ot(lt(t,j,h));return f=new He({props:{class:"chevron-icon",size:16}}),{c(){e=y("div"),n=y("label"),s=E(l),o=V(),i=y("select"),a=y("option"),u=E(r);for(let h=0;h<w.length;h+=1)w[h].c();b=V(),Z(f.$$.fragment),p(n,"for","object-option"),p(n,"class","form-label"),a.__value="",Y(a,a.__value),a.disabled=!0,a.selected=!0,p(i,"id","object-option"),p(i,"class","form-select svelte-19d9t93"),t[1]===void 0&&je(()=>t[7].call(i)),p(e,"class","form-group svelte-19d9t93")},m(h,S){R(h,e,S),d(e,n),d(n,s),d(e,o),d(e,i),d(i,a),d(a,u);for(let N=0;N<w.length;N+=1)w[N]&&w[N].m(i,null);We(i,t[1],!0),d(e,b),K(f,e,null),c=!0,m||(_=D(i,"change",t[7]),m=!0)},p(h,S){if((!c||S&4)&&l!==(l=h[2].Ui.select.objHead+"")&&J(s,l),(!c||S&4)&&r!==(r=h[2].Ui.select.objDesc+"")&&J(u,r),S&8){j=ie(h[3]);let N;for(N=0;N<j.length;N+=1){const P=lt(h,j,N);w[N]?w[N].p(P,S):(w[N]=ot(P),w[N].c(),w[N].m(i,null))}for(;N<w.length;N+=1)w[N].d(1);w.length=j.length}S&10&&We(i,h[1])},i(h){c||(z(f.$$.fragment,h),c=!0)},o(h){L(f.$$.fragment,h),c=!1},d(h){h&&I(e),Je(w,h),Q(f),m=!1,_()}}}function ot(t){let e,n=t[8].label+"",l,s;return{c(){e=y("option"),l=E(n),e.__value=s=t[8].value,Y(e,e.__value)},m(o,i){R(o,e,i),d(e,l)},p(o,i){i&8&&n!==(n=o[8].label+"")&&J(l,n),i&8&&s!==(s=o[8].value)&&(e.__value=s,Y(e,e.__value))},d(o){o&&I(e)}}}function it(t){let e,n,l=t[2].Ui.select.cancel+"",s,o,i,a=t[2].Ui.select.submit+"",r,u,b,f;return{c(){e=y("div"),n=y("button"),s=E(l),o=V(),i=y("button"),r=E(a),p(n,"class","btn decline"),p(i,"class","btn confirm"),i.disabled=u=t[0]==="object"&&!t[1],p(e,"class","button-group")},m(c,m){R(c,e,m),d(e,n),d(n,s),d(e,o),d(e,i),d(i,r),b||(f=[D(n,"click",t[5]),D(i,"click",t[4])],b=!0)},p(c,m){m&4&&l!==(l=c[2].Ui.select.cancel+"")&&J(s,l),m&4&&a!==(a=c[2].Ui.select.submit+"")&&J(r,a),m&11&&u!==(u=c[0]==="object"&&!c[1])&&(i.disabled=u)},d(c){c&&I(e),b=!1,X(f)}}}function rn(t){let e,n,l,s=t[2].Ui.select.header+"",o,i,a,r,u,b,f,c,m=t[2].Ui.select.option1head+"",_,j,w=t[2].Ui.select.option1coords+"",h,S,N=t[2].Ui.select.option1object+"",P,B,U,$,M,O,F,v;U=new He({props:{class:"chevron-icon",size:16}});let g=t[0]==="object"&&st(t),W=t[0]&&it(t);return{c(){e=y("div"),n=y("div"),l=y("h2"),o=E(s),i=V(),a=y("div"),r=y("div"),u=y("label"),u.textContent="Select Creation Type",b=V(),f=y("select"),c=y("option"),_=E(m),j=y("option"),h=E(w),S=y("option"),P=E(N),B=V(),Z(U.$$.fragment),$=V(),g&&g.c(),M=V(),W&&W.c(),p(l,"class","menu-title"),p(n,"class","menu-header"),p(u,"for","main-option"),p(u,"class","form-label"),c.__value="",Y(c,c.__value),c.disabled=!0,c.selected=!0,j.__value="coords",Y(j,j.__value),S.__value="object",Y(S,S.__value),p(f,"id","main-option"),p(f,"class","form-select svelte-19d9t93"),t[0]===void 0&&je(()=>t[6].call(f)),p(r,"class","form-group svelte-19d9t93"),p(a,"class","form-container"),p(e,"class","menu-container svelte-19d9t93")},m(k,C){R(k,e,C),d(e,n),d(n,l),d(l,o),d(e,i),d(e,a),d(a,r),d(r,u),d(r,b),d(r,f),d(f,c),d(c,_),d(f,j),d(j,h),d(f,S),d(S,P),We(f,t[0],!0),d(r,B),K(U,r,null),d(a,$),g&&g.m(a,null),d(e,M),W&&W.m(e,null),O=!0,F||(v=D(f,"change",t[6]),F=!0)},p(k,[C]){(!O||C&4)&&s!==(s=k[2].Ui.select.header+"")&&J(o,s),(!O||C&4)&&m!==(m=k[2].Ui.select.option1head+"")&&J(_,m),(!O||C&4)&&w!==(w=k[2].Ui.select.option1coords+"")&&J(h,w),(!O||C&4)&&N!==(N=k[2].Ui.select.option1object+"")&&J(P,N),C&1&&We(f,k[0]),k[0]==="object"?g?(g.p(k,C),C&1&&z(g,1)):(g=st(k),g.c(),z(g,1),g.m(a,null)):g&&(de(),L(g,1,1,()=>{g=null}),_e()),k[0]?W?W.p(k,C):(W=it(k),W.c(),W.m(e,null)):W&&(W.d(1),W=null)},i(k){O||(z(U.$$.fragment,k),z(g),O=!0)},o(k){L(U.$$.fragment,k),L(g),O=!1},d(k){k&&I(e),Q(U),g&&g.d(),W&&W.d(),F=!1,v()}}}function un(t,e,n){let l,s;oe(t,Ee,f=>n(2,l=f)),oe(t,Be,f=>n(3,s=f));let o="",i="";function a(){let f;o==="coords"?f={type:"coords",object:!1}:o==="object"&&(f={type:"object",object:i}),console.log(JSON.stringify(f)),f&&(le("submitSelection",f),Ae.set(!1),le("hideUI"))}function r(){n(0,o=""),n(1,i="")}function u(){o=Xe(this),n(0,o)}function b(){i=Xe(this),n(1,i)}return[o,i,l,s,a,r,u,b]}class cn extends re{constructor(e){super(),ae(this,e,un,rn,x,{})}}function at(t,e,n){const l=t.slice();return l[11]=e[n],l[13]=n,l}function rt(t){let e,n,l,s=t[3].Ui.edit.header+"",o,i,a,r,u,b,f=t[3].Ui.edit.del+"",c,m,_,j=t[3].Ui.edit.go2+"",w,h,S,N=t[3].Ui.edit.changeLoc+"",P,B,U,$,M=t[3].Ui.edit.edit+"",O,F,v,g,W=ie(t[1]),k=[];for(let C=0;C<W.length;C+=1)k[C]=ut(at(t,W,C));return{c(){e=y("div"),n=y("div"),l=y("h2"),o=E(s),i=V(),a=y("div");for(let C=0;C<k.length;C+=1)k[C].c();r=V(),u=y("div"),b=y("button"),c=E(f),m=V(),_=y("button"),w=E(j),h=V(),S=y("button"),P=E(N),U=V(),$=y("button"),O=E(M),p(l,"class","menu-title"),p(n,"class","menu-header"),p(a,"class","item-list svelte-z7tsnp"),p(b,"class","btn decline"),p(_,"class","btn confirm"),p(S,"class","btn confirm"),S.disabled=B=t[0]<0,p($,"class","btn confirm"),$.disabled=F=t[0]<0,p(u,"class","button-group"),p(e,"class","menu-container")},m(C,G){R(C,e,G),d(e,n),d(n,l),d(l,o),d(e,i),d(e,a);for(let A=0;A<k.length;A+=1)k[A]&&k[A].m(a,null);d(e,r),d(e,u),d(u,b),d(b,c),d(u,m),d(u,_),d(_,w),d(u,h),d(u,S),d(S,P),d(u,U),d(u,$),d($,O),v||(g=[D(b,"click",t[7]),D(_,"click",t[8]),D(S,"click",t[6]),D($,"click",t[5])],v=!0)},p(C,G){if(G&8&&s!==(s=C[3].Ui.edit.header+"")&&J(o,s),G&27){W=ie(C[1]);let A;for(A=0;A<W.length;A+=1){const Me=at(C,W,A);k[A]?k[A].p(Me,G):(k[A]=ut(Me),k[A].c(),k[A].m(a,null))}for(;A<k.length;A+=1)k[A].d(1);k.length=W.length}G&8&&f!==(f=C[3].Ui.edit.del+"")&&J(c,f),G&8&&j!==(j=C[3].Ui.edit.go2+"")&&J(w,j),G&8&&N!==(N=C[3].Ui.edit.changeLoc+"")&&J(P,N),G&1&&B!==(B=C[0]<0)&&(S.disabled=B),G&8&&M!==(M=C[3].Ui.edit.edit+"")&&J(O,M),G&1&&F!==(F=C[0]<0)&&($.disabled=F)},d(C){C&&I(e),Je(k,C),v=!1,X(g)}}}function fn(t){let e=t[3].Ui.edit.coords+"",n;return{c(){n=E(e)},m(l,s){R(l,n,s)},p(l,s){s&8&&e!==(e=l[3].Ui.edit.coords+"")&&J(n,e)},d(l){l&&I(n)}}}function dn(t){let e=t[3].Ui.edit.obj+"",n;return{c(){n=E(e)},m(l,s){R(l,n,s)},p(l,s){s&8&&e!==(e=l[3].Ui.edit.obj+"")&&J(n,e)},d(l){l&&I(n)}}}function ut(t){let e,n,l,s=t[11].name+"",o,i,a,r=t[3].Ui.edit.id+"",u,b,f=t[11].id+"",c,m,_,j,w,h,S,N=ue(t[11].loc).x+"",P,B,U=ue(t[11].loc).y+"",$,M,O=ue(t[11].loc).z+"",F,v,g,W,k;function C(ee,H){return H&2&&(j=null),j==null&&(j=ue(ee[11].data).object!==!1||ue(ee[11].data).object===null),j?dn:fn}let G=C(t,-1),A=G(t);function Me(){return t[9](t[13])}function Ut(...ee){return t[10](t[13],...ee)}return{c(){e=y("div"),n=y("div"),l=y("span"),o=E(s),i=V(),a=y("span"),u=E(r),b=E(": "),c=E(f),m=V(),_=y("span"),A.c(),w=V(),h=y("div"),S=E("vector3("),P=E(N),B=E(", "),$=E(U),M=E(", "),F=E(O),v=E(")"),g=V(),p(l,"class","item-name svelte-z7tsnp"),p(a,"class","item-id svelte-z7tsnp"),p(_,"class","item-type svelte-z7tsnp"),p(n,"class","item-header svelte-z7tsnp"),p(h,"class","item-location svelte-z7tsnp"),p(e,"class","list-item svelte-z7tsnp"),p(e,"role","button"),p(e,"tabindex","0"),Ye(e,"selected",t[0]===t[13])},m(ee,H){R(ee,e,H),d(e,n),d(n,l),d(l,o),d(n,i),d(n,a),d(a,u),d(a,b),d(a,c),d(n,m),d(n,_),A.m(_,null),d(e,w),d(e,h),d(h,S),d(h,P),d(h,B),d(h,$),d(h,M),d(h,F),d(h,v),d(e,g),W||(k=[D(e,"click",Me),D(e,"keydown",Ut)],W=!0)},p(ee,H){t=ee,H&2&&s!==(s=t[11].name+"")&&J(o,s),H&8&&r!==(r=t[3].Ui.edit.id+"")&&J(u,r),H&2&&f!==(f=t[11].id+"")&&J(c,f),G===(G=C(t,H))&&A?A.p(t,H):(A.d(1),A=G(t),A&&(A.c(),A.m(_,null))),H&2&&N!==(N=ue(t[11].loc).x+"")&&J(P,N),H&2&&U!==(U=ue(t[11].loc).y+"")&&J($,U),H&2&&O!==(O=ue(t[11].loc).z+"")&&J(F,O),H&1&&Ye(e,"selected",t[0]===t[13])},d(ee){ee&&I(e),A.d(),W=!1,X(k)}}}function _n(t){let e,n=t[2]&&rt(t);return{c(){n&&n.c(),e=ke()},m(l,s){n&&n.m(l,s),R(l,e,s)},p(l,[s]){l[2]?n?n.p(l,s):(n=rt(l),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:T,o:T,d(l){l&&I(e),n&&n.d(l)}}}function ue(t){try{return t?JSON.parse(t):null}catch(e){return console.warn("Failed to parse JSON:",t,e),null}}function hn(t,e,n){let l,s,o;oe(t,he,_=>n(1,l=_)),oe(t,te,_=>n(2,s=_)),oe(t,Ee,_=>n(3,o=_));let i=-1;function a(_){n(0,i=_)}function r(){i>=0&&(se.set(!0),te.set(!1),he.set(l[i]),le("editStash",l[i]))}function u(){i>=0&&(le("changeLocation",l[i]),se.set(!1),te.set(!1))}function b(){i>=0&&(le("deleteStash",l[i]),se.set(!1),te.set(!1))}function f(){i>=0&&(le("gotoLoc",l[i]),se.set(!1),te.set(!1))}return[i,l,s,o,a,r,u,b,f,_=>a(_),(_,j)=>(j.key==="Enter"||j.key===" ")&&a(_)]}class mn extends re{constructor(e){super(),ae(this,e,hn,_n,x,{})}}function ct(t){let e;const n=t[4].default,l=Ue(n,t,t[3],null);return{c(){l&&l.c()},m(s,o){l&&l.m(s,o),e=!0},p(s,o){l&&l.p&&(!e||o&8)&&Ce(l,n,s,s[3],e?Ne(n,s[3],o,null):ze(s[3]),null)},i(s){e||(z(l,s),e=!0)},o(s){L(l,s),e=!1},d(s){l&&l.d(s)}}}function ft(t){let e,n;return e=new cn({}),{c(){Z(e.$$.fragment)},m(l,s){K(e,l,s),n=!0},i(l){n||(z(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){Q(e,l)}}}function dt(t){let e,n;return e=new mn({}),{c(){Z(e.$$.fragment)},m(l,s){K(e,l,s),n=!0},i(l){n||(z(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){Q(e,l)}}}function pn(t){let e,n,l,s,o=t[0]&&!t[1]&&!t[2]&&ct(t),i=t[1]&&ft(),a=t[2]&&dt();return{c(){e=y("main"),o&&o.c(),n=V(),i&&i.c(),l=V(),a&&a.c()},m(r,u){R(r,e,u),o&&o.m(e,null),d(e,n),i&&i.m(e,null),d(e,l),a&&a.m(e,null),s=!0},p(r,[u]){r[0]&&!r[1]&&!r[2]?o?(o.p(r,u),u&7&&z(o,1)):(o=ct(r),o.c(),z(o,1),o.m(e,n)):o&&(de(),L(o,1,1,()=>{o=null}),_e()),r[1]?i?u&2&&z(i,1):(i=ft(),i.c(),z(i,1),i.m(e,l)):i&&(de(),L(i,1,1,()=>{i=null}),_e()),r[2]?a?u&4&&z(a,1):(a=dt(),a.c(),z(a,1),a.m(e,null)):a&&(de(),L(a,1,1,()=>{a=null}),_e())},i(r){s||(z(o),z(i),z(a),s=!0)},o(r){L(o),L(i),L(a),s=!1},d(r){r&&I(e),o&&o.d(),i&&i.d(),a&&a.d()}}}function bn(t,e,n){let l,s;oe(t,Ae,r=>n(1,l=r)),oe(t,te,r=>n(2,s=r));let{$$slots:o={},$$scope:i}=e,a;return se.subscribe(r=>{n(0,a=r)}),Le("setVisible",r=>{se.set(r)}),Le("firstMenu",r=>{Ae.set(r)}),Le("editMenu",r=>{r===!1?(te.set(!1),he.set(null)):(te.set(!0),he.set(r))}),Le("setEditable",r=>{se.set(!0)}),Mt(async()=>{if(!Se())try{let u=await le("initUi");Be.set(u.Config),Ee.set(u.lang),Ge.set(u.defaults)}catch(u){console.warn("Failed to fetch UI data from NUI (expected in browser mode):",u)}const r=u=>{["Escape"].includes(u.code)&&(Se()||le("hideUI"),se.set(!1),Ae.set(!1),te.set(!1),he.set(null))};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)}),t.$$set=r=>{"$$scope"in r&&n(3,i=r.$$scope)},[a,l,s,i,o]}class gn extends re{constructor(e){super(),ae(this,e,bn,pn,x,{})}}function _t(t,e,n){const l=t.slice();return l[24]=e[n],l[25]=e,l[26]=n,l}function ht(t,e,n){const l=t.slice();return l[27]=e[n],l[29]=n,l}function vn(t){let e,n,l=t[24].label+"",s,o,i,a,r,u;const b=[$n,wn,yn],f=[];function c(m,_){return m[24].array?0:m[24].type==="number"?1:2}return i=c(t),a=f[i]=b[i](t),{c(){e=y("div"),n=y("label"),s=E(l),o=V(),a.c(),r=V(),p(n,"class","field-label svelte-zmxmjf"),p(e,"class","field-container svelte-zmxmjf")},m(m,_){R(m,e,_),d(e,n),d(n,s),d(e,o),f[i].m(e,null),d(e,r),u=!0},p(m,_){(!u||_&2)&&l!==(l=m[24].label+"")&&J(s,l);let j=i;i=c(m),i===j?f[i].p(m,_):(de(),L(f[j],1,1,()=>{f[j]=null}),_e(),a=f[i],a?a.p(m,_):(a=f[i]=b[i](m),a.c()),z(a,1),a.m(e,r))},i(m){u||(z(a),u=!0)},o(m){L(a),u=!1},d(m){m&&I(e),f[i].d()}}}function kn(t){return{c:T,m:T,p:T,i:T,o:T,d:T}}function yn(t){let e,n,l,s;function o(){t[21].call(e,t[25],t[26])}return{c(){e=y("input"),p(e,"type","text"),p(e,"placeholder",n=t[24].default||`Enter ${t[24].label.toLowerCase()}`),p(e,"class","form-input")},m(i,a){R(i,e,a),Y(e,t[24].value),l||(s=D(e,"input",o),l=!0)},p(i,a){t=i,a&2&&n!==(n=t[24].default||`Enter ${t[24].label.toLowerCase()}`)&&p(e,"placeholder",n),a&2&&e.value!==t[24].value&&Y(e,t[24].value)},i:T,o:T,d(i){i&&I(e),l=!1,s()}}}function wn(t){let e,n,l,s,o,i,a,r,u,b,f,c,m;function _(){t[18].call(n,t[25],t[26])}a=new tn({props:{size:14}});function j(){return t[19](t[24])}b=new He({props:{size:14}});function w(){return t[20](t[24])}return{c(){e=y("div"),n=y("input"),s=V(),o=y("div"),i=y("button"),Z(a.$$.fragment),r=V(),u=y("button"),Z(b.$$.fragment),p(n,"type","number"),p(n,"placeholder",l=t[24].default),p(n,"class","form-input number-input svelte-zmxmjf"),p(n,"min","0"),p(i,"type","button"),p(i,"class","number-btn svelte-zmxmjf"),p(u,"type","button"),p(u,"class","number-btn svelte-zmxmjf"),p(o,"class","number-controls svelte-zmxmjf"),p(e,"class","number-input-container svelte-zmxmjf")},m(h,S){R(h,e,S),d(e,n),Y(n,t[24].value),d(e,s),d(e,o),d(o,i),K(a,i,null),d(o,r),d(o,u),K(b,u,null),f=!0,c||(m=[D(n,"input",_),D(i,"click",j),D(u,"click",w)],c=!0)},p(h,S){t=h,(!f||S&2&&l!==(l=t[24].default))&&p(n,"placeholder",l),S&2&&wt(n.value)!==t[24].value&&Y(n,t[24].value)},i(h){f||(z(a.$$.fragment,h),z(b.$$.fragment,h),f=!0)},o(h){L(a.$$.fragment,h),L(b.$$.fragment,h),f=!1},d(h){h&&I(e),Q(a),Q(b),c=!1,X(m)}}}function $n(t){let e,n,l,s,o,i,a,r,u,b,f,c;function m(){t[14].call(n,t[25],t[26])}function _(...h){return t[15](t[24],...h)}i=new an({props:{size:18}});function j(){return t[16](t[24])}let w=t[24].arrayValues&&t[24].arrayValues.length>0&&mt(t);return{c(){e=y("div"),n=y("input"),s=V(),o=y("button"),Z(i.$$.fragment),r=V(),w&&w.c(),u=ke(),p(n,"type","text"),p(n,"placeholder",l=t[24].default||`Add ${t[24].label.toLowerCase()}`),p(n,"class","form-input array-input svelte-zmxmjf"),p(o,"type","button"),p(o,"class","add-btn svelte-zmxmjf"),o.disabled=a=!t[24].value||t[24].value.trim()==="",p(o,"title","Add item"),p(e,"class","array-input-container svelte-zmxmjf")},m(h,S){R(h,e,S),d(e,n),Y(n,t[24].value),d(e,s),d(e,o),K(i,o,null),R(h,r,S),w&&w.m(h,S),R(h,u,S),b=!0,f||(c=[D(n,"input",m),D(n,"keypress",_),D(o,"click",j)],f=!0)},p(h,S){t=h,(!b||S&2&&l!==(l=t[24].default||`Add ${t[24].label.toLowerCase()}`))&&p(n,"placeholder",l),S&2&&n.value!==t[24].value&&Y(n,t[24].value),(!b||S&2&&a!==(a=!t[24].value||t[24].value.trim()===""))&&(o.disabled=a),t[24].arrayValues&&t[24].arrayValues.length>0?w?w.p(t,S):(w=mt(t),w.c(),w.m(u.parentNode,u)):w&&(w.d(1),w=null)},i(h){b||(z(i.$$.fragment,h),b=!0)},o(h){L(i.$$.fragment,h),b=!1},d(h){h&&(I(e),I(r),I(u)),Q(i),w&&w.d(h),f=!1,X(c)}}}function mt(t){let e,n=ie(t[24].arrayValues),l=[];for(let s=0;s<n.length;s+=1)l[s]=pt(ht(t,n,s));return{c(){e=y("div");for(let s=0;s<l.length;s+=1)l[s].c();p(e,"class","array-values svelte-zmxmjf")},m(s,o){R(s,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(s,o){if(o&34){n=ie(s[24].arrayValues);let i;for(i=0;i<n.length;i+=1){const a=ht(s,n,i);l[i]?l[i].p(a,o):(l[i]=pt(a),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},d(s){s&&I(e),Je(l,s)}}}function pt(t){let e,n,l=t[27]+"",s,o,i,a,r,u;function b(){return t[17](t[24],t[29])}return{c(){e=y("div"),n=y("span"),s=E(l),o=V(),i=y("span"),i.textContent="×",a=V(),p(n,"class","array-text svelte-zmxmjf"),p(i,"class","delete-icon svelte-zmxmjf"),p(e,"class","array-item svelte-zmxmjf"),p(e,"title","Click to remove")},m(f,c){R(f,e,c),d(e,n),d(n,s),d(e,o),d(e,i),d(e,a),r||(u=D(e,"click",b),r=!0)},p(f,c){t=f,c&2&&l!==(l=t[27]+"")&&J(s,l)},d(f){f&&I(e),r=!1,u()}}}function bt(t,e){let n,l,s,o,i,a;const r=[kn,vn],u=[];function b(f,c){var m,_,j,w,h,S;return c&2&&(l=null),l==null&&(l=f[24].handle==="jobRank"&&(!((m=f[11]())!=null&&m.arrayValues)||((j=(_=f[11]())==null?void 0:_.arrayValues)==null?void 0:j.length)===0)||f[24].handle==="gangRank"&&(!((w=f[12]())!=null&&w.arrayValues)||((S=(h=f[12]())==null?void 0:h.arrayValues)==null?void 0:S.length)===0)),l?0:1}return s=b(e,-1),o=u[s]=r[s](e),{key:t,first:null,c(){n=ke(),o.c(),i=ke(),this.first=n},m(f,c){R(f,n,c),u[s].m(f,c),R(f,i,c),a=!0},p(f,c){e=f;let m=s;s=b(e,c),s===m?u[s].p(e,c):(de(),L(u[m],1,1,()=>{u[m]=null}),_e(),o=u[s],o?o.p(e,c):(o=u[s]=r[s](e),o.c()),z(o,1),o.m(i.parentNode,i))},i(f){a||(z(o),a=!0)},o(f){L(o),a=!1},d(f){f&&(I(n),I(i)),u[s].d(f)}}}function jn(t){let e,n,l,s,o,i=[],a=new Map,r,u,b,f=t[2].Ui.create.reset+"",c,m,_,j=t[2].Ui.create.submit+"",w,h,S,N,P=ie(t[1]);const B=U=>U[24].handle;for(let U=0;U<P.length;U+=1){let $=_t(t,P,U),M=B($);a.set(M,i[U]=bt(M,$))}return{c(){e=y("div"),n=y("div"),l=y("h2"),l.textContent=`${t[3]}`,s=V(),o=y("div");for(let U=0;U<i.length;U+=1)i[U].c();r=V(),u=y("div"),b=y("button"),c=E(f),m=V(),_=y("button"),w=E(j),p(l,"class","menu-title"),p(n,"class","menu-header"),p(o,"class","form-content svelte-zmxmjf"),p(b,"type","button"),p(b,"class","btn decline"),b.disabled=t[0],p(_,"type","button"),p(_,"class","btn confirm"),_.disabled=t[0],p(u,"class","button-group"),p(e,"class","menu-container svelte-zmxmjf")},m(U,$){R(U,e,$),d(e,n),d(n,l),d(e,s),d(e,o);for(let M=0;M<i.length;M+=1)i[M]&&i[M].m(o,null);d(e,r),d(e,u),d(u,b),d(b,c),d(u,m),d(u,_),d(_,w),h=!0,S||(N=[D(b,"click",t[10]),D(_,"click",t[9])],S=!0)},p(U,[$]){$&6642&&(P=ie(U[1]),de(),i=Rt(i,$,B,1,U,P,a,o,Jt,bt,null,_t),_e()),(!h||$&4)&&f!==(f=U[2].Ui.create.reset+"")&&J(c,f),(!h||$&1)&&(b.disabled=U[0]),(!h||$&4)&&j!==(j=U[2].Ui.create.submit+"")&&J(w,j),(!h||$&1)&&(_.disabled=U[0])},i(U){if(!h){for(let $=0;$<P.length;$+=1)z(i[$]);h=!0}},o(U){for(let $=0;$<i.length;$+=1)L(i[$]);h=!1},d(U){U&&I(e);for(let $=0;$<i.length;$+=1)i[$].d();S=!1,X(N)}}}function Sn(t,e,n){let l,s,o;oe(t,he,v=>n(13,l=v)),oe(t,Ee,v=>n(2,s=v)),oe(t,Ge,v=>n(22,o=v));let i=s.Ui.create.header,a=!1,r=[{handle:"name",label:s.Ui.create.name,array:!1,default:"my_stash",value:""},{handle:"job",label:s.Ui.create.job,array:!0,default:!1,value:"",arrayValues:[]},{handle:"jobRank",label:s.Ui.create.jobRank,array:!1,type:"number",default:0,value:""},{handle:"gang",label:s.Ui.create.gang,array:!0,default:!1,value:"",arrayValues:[]},{handle:"gangRank",label:s.Ui.create.gangRank,array:!1,type:"number",default:0,value:""},{handle:"item",label:s.Ui.create.item,array:!0,default:!1,value:"",arrayValues:[]},{handle:"identifier",label:s.Ui.create.identifier,array:!0,default:!1,value:"",arrayValues:[]},{handle:"maxWeight",label:s.Ui.create.weight,array:!1,type:"number",default:o.maxWeight,value:""},{handle:"slots",label:s.Ui.create.slots,array:!1,type:"number",default:o.slots,value:""},{handle:"password",label:s.Ui.create.password,array:!1,default:!1,value:""}];function u(v){v.value&&v.value.trim()!==""&&(v.arrayValues||(v.arrayValues=[]),v.arrayValues.push(v.value.trim()),v.value="",n(1,r=[...r]))}function b(v,g){v.arrayValues&&(v.arrayValues.splice(g,1),n(1,r=[...r]))}function f(v){const g=parseInt(v.value)||0;v.value=(g+1).toString(),n(1,r=[...r])}function c(v){const g=parseInt(v.value)||0;g>0&&(v.value=(g-1).toString(),n(1,r=[...r]))}function m(v,g){v.key==="Enter"&&u(g)}async function _(){n(0,a=!0);const v={};r.forEach(g=>{g.array?!g.arrayValues||g.arrayValues.length===0?v[g.handle]=!1:v[g.handle]=g.arrayValues:g.type==="number"?v[g.handle]=g.value?Number(g.value):Number(g.default):v[g.handle]=g.value||g.default}),l?(await le("saveEdit",{form:v,id:l}),j(),te.set(!1),se.set(!1),he.set(null)):await le("createStash",v),se.set(!1),n(0,a=!1)}function j(){r.forEach(v=>{v.value="",v.arrayValues=[]}),n(1,r=[...r])}function w(){return r.find(v=>v.handle==="job")}function h(){return r.find(v=>v.handle==="gang")}function S(v){try{const g=typeof v.data=="string"?JSON.parse(v.data):v.data||{},W=typeof v.loc=="string"?JSON.parse(v.loc):v.loc||{};r.forEach(k=>{if(k.handle==="name"){k.value=v.name||k.default;return}if(k.handle==="maxWeight"&&g.weight!==void 0){k.value=g.weight;return}if(k.handle==="slots"&&g.slots!==void 0){k.value=g.slots;return}if(k.handle==="password"){k.value=g.password===!1?"":g.password;return}if(k.array&&g[k.handle]!==void 0){Array.isArray(g[k.handle])?k.arrayValues=[...g[k.handle]]:g[k.handle]===!1&&(k.arrayValues=[]);return}if(!k.array&&g[k.handle]!==void 0){k.value=g[k.handle];return}k.value=k.default,k.array&&(k.arrayValues=[])}),n(1,r=[...r])}catch(g){console.error("Failed to parse editable data:",g)}}function N(v,g){v[g].value=this.value,n(1,r)}const P=(v,g)=>m(g,v),B=v=>u(v),U=(v,g)=>b(v,g);function $(v,g){v[g].value=wt(this.value),n(1,r)}const M=v=>f(v),O=v=>c(v);function F(v,g){v[g].value=this.value,n(1,r)}return t.$$.update=()=>{t.$$.dirty&8192&&l&&S(l)},[a,r,s,i,u,b,f,c,m,_,j,w,h,l,N,P,B,U,$,M,O,F]}class Un extends re{constructor(e){super(),ae(this,e,Sn,jn,x,{})}}const ne=(t,e=1e3)=>{if(Se())for(const n of t)setTimeout(()=>{window.dispatchEvent(new MessageEvent("message",{data:{action:n.action,data:n.data}}))},e)};function Nn(t){let e,n,l,s,o,i,a,r,u,b,f,c;return{c(){e=y("div"),n=y("h4"),n.textContent="Dev Controls",l=V(),s=y("button"),s.textContent="Create Stash",o=V(),i=y("button"),i.textContent="Select Stash Type",a=V(),r=y("button"),r.textContent="Edit Stash",u=V(),b=y("button"),b.textContent="Hide All",p(n,"class","svelte-7zc587"),p(s,"class","btn confirm svelte-7zc587"),p(i,"class","btn confirm svelte-7zc587"),p(r,"class","btn confirm svelte-7zc587"),p(b,"class","btn decline svelte-7zc587"),p(e,"class","dev-controls svelte-7zc587")},m(m,_){R(m,e,_),d(e,n),d(e,l),d(e,s),d(e,o),d(e,i),d(e,a),d(e,r),d(e,u),d(e,b),f||(c=[D(s,"click",t[2]),D(i,"click",t[0]),D(r,"click",t[1]),D(b,"click",t[3])],f=!0)},p:T,i:T,o:T,d(m){m&&I(e),f=!1,X(c)}}}function Cn(t){function e(){ne([{action:"setVisible",data:!0},{action:"firstMenu",data:!0}],100)}function n(){ne([{action:"setVisible",data:!0},{action:"editMenu",data:St}],100)}function l(){ne([{action:"firstMenu",data:!1},{action:"editMenu",data:!1}],50),setTimeout(()=>{ne([{action:"setVisible",data:!0}],10)},150)}function s(){ne([{action:"setVisible",data:!1},{action:"firstMenu",data:!1},{action:"editMenu",data:!1}],100)}return[e,n,l,s]}class zn extends re{constructor(e){super(),ae(this,e,Cn,Nn,x,{})}}const St=[{id:1,name:"police_locker",loc:JSON.stringify({x:461.8,y:-985.3,z:30.7}),data:JSON.stringify({object:!1}),job:"police"},{id:2,name:"gang_stash",loc:JSON.stringify({x:123.4,y:-456.7,z:28.1}),data:JSON.stringify({object:"prop_container_01a"}),gang:"ballas"},{id:3,name:"personal_safe",loc:JSON.stringify({x:-789.1,y:234.5,z:15.2}),data:JSON.stringify({object:"prop_ld_int_safe_01"}),password:!0}],Vn=[{value:"prop_container_01a",label:"Small Container"},{value:"prop_container_01b",label:"Medium Container"},{value:"prop_ld_int_safe_01",label:"Safe"},{value:"prop_toolchest_01",label:"Tool Chest"},{value:"prop_locker_01",label:"Locker"},{value:"prop_crate_01a",label:"Wooden Crate"}],En={Ui:{create:{header:"Create Stash",name:"Stash Name",job:"Job",jobRank:"Job Rank",gang:"Gang",gangRank:"Gang Rank",item:"Required Item",identifier:"Identifier",weight:"Max Weight",slots:"Slots",password:"Password",submit:"Create Stash",reset:"Reset",cancel:"Cancel"},select:{header:"Select Stash Type",option1head:"Choose an option",option1coords:"Create at coordinates",option1object:"Create on object",objHead:"Select Object",objDesc:"Select an object",submit:"Confirm Selection",cancel:"Cancel"},edit:{header:"Edit Stash",id:"ID",obj:"Object",coords:"Coordinates",del:"Delete",go2:"Go To",changeLoc:"Change Location",edit:"Edit"}}},Mn={maxWeight:1e5,slots:50},Ln=()=>{Se()&&(ne([{action:"setVisible",data:!0}]),Be.set(Vn),Ee.set(En),Ge.set(Mn),new zn({target:document.body}),typeof window<"u"&&(window.showSelectMenu=()=>{ne([{action:"setVisible",data:!0},{action:"firstMenu",data:!0}],100)},window.showEditMenu=()=>{ne([{action:"setVisible",data:!0},{action:"editMenu",data:St}],100)},window.showCreateStash=()=>{ne([{action:"setVisible",data:!0},{action:"firstMenu",data:!1},{action:"editMenu",data:!1}],100)},window.hideAll=()=>{ne([{action:"setVisible",data:!1},{action:"firstMenu",data:!1},{action:"editMenu",data:!1}],100)}))};function On(t){let e,n;return e=new Un({}),{c(){Z(e.$$.fragment)},m(l,s){K(e,l,s),n=!0},i(l){n||(z(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){Q(e,l)}}}function An(t){let e,n,l;return n=new gn({props:{$$slots:{default:[On]},$$scope:{ctx:t}}}),{c(){e=y("main"),Z(n.$$.fragment)},m(s,o){R(s,e,o),K(n,e,null),l=!0},p(s,[o]){const i={};o&1&&(i.$$scope={dirty:o,ctx:s}),n.$set(i)},i(s){l||(z(n.$$.fragment,s),l=!0)},o(s){L(n.$$.fragment,s),l=!1},d(s){s&&I(e),Q(n)}}}function In(t){return Ln(),[]}class Wn extends re{constructor(e){super(),ae(this,e,In,An,x,{})}}new Wn({target:document.getElementById("app")});
