var Ct=Object.defineProperty;var Vt=(t,e,n)=>e in t?Ct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Re=(t,e,n)=>(Vt(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function T(){}function q(t,e){for(const n in e)t[n]=e[n];return t}function gt(t){return t()}function Ke(){return Object.create(null)}function Y(t){t.forEach(gt)}function vt(t){return typeof t=="function"}function x(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Et(t){return Object.keys(t).length===0}function Mt(t,...e){if(t==null){for(const l of e)l(void 0);return T}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function te(t,e,n){t.$$.on_destroy.push(Mt(e,n))}function Oe(t,e,n,l){if(t){const o=kt(t,e,n,l);return t[0](o)}}function kt(t,e,n,l){return t[1]&&l?q(n.ctx.slice(),t[1](l(e))):n.ctx}function Ae(t,e,n,l){if(t[2]&&l){const o=t[2](l(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const i=[],s=Math.max(e.dirty.length,o.length);for(let a=0;a<s;a+=1)i[a]=e.dirty[a]|o[a];return i}return e.dirty|o}return e.dirty}function Ie(t,e,n,l,o,i){if(o){const s=kt(e,n,l,i);t.p(s,o)}}function We(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}function ce(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Qe(t,e){const n={};e=new Set(e);for(const l in t)!e.has(l)&&l[0]!=="$"&&(n[l]=t[l]);return n}function d(t,e){t.appendChild(e)}function R(t,e,n){t.insertBefore(e,n||null)}function I(t){t.parentNode&&t.parentNode.removeChild(t)}function Je(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function y(t){return document.createElement(t)}function yt(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function M(t){return document.createTextNode(t)}function E(){return M(" ")}function ke(){return M("")}function D(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function p(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ze(t,e){for(const n in e)p(t,n,e[n])}function wt(t){return t===""?null:+t}function zt(t){return Array.from(t.childNodes)}function J(t,e){e=""+e,t.data!==e&&(t.data=e)}function Z(t,e){t.value=e??""}function Le(t,e,n){for(let l=0;l<t.options.length;l+=1){const o=t.options[l];if(o.__value===e){o.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Xe(t){const e=t.querySelector(":checked");return e&&e.__value}function Ye(t,e,n){t.classList.toggle(e,!!n)}let $e;function we(t){$e=t}function $t(){if(!$e)throw new Error("Function called outside component initialization");return $e}function Lt(t){$t().$$.on_mount.push(t)}function Ot(t){$t().$$.on_destroy.push(t)}const ge=[],Ze=[];let ve=[];const xe=[],At=Promise.resolve();let Te=!1;function It(){Te||(Te=!0,At.then(St))}function Se(t){ve.push(t)}const Pe=new Set;let pe=0;function St(){if(pe!==0)return;const t=$e;do{try{for(;pe<ge.length;){const e=ge[pe];pe++,we(e),Wt(e.$$)}}catch(e){throw ge.length=0,pe=0,e}for(we(null),ge.length=0,pe=0;Ze.length;)Ze.pop()();for(let e=0;e<ve.length;e+=1){const n=ve[e];Pe.has(n)||(Pe.add(n),n())}ve.length=0}while(ge.length);for(;xe.length;)xe.pop()();Te=!1,Pe.clear(),we(t)}function Wt(t){if(t.fragment!==null){t.update(),Y(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Se)}}function Jt(t){const e=[],n=[];ve.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),ve=e}const Ee=new Set;let fe;function de(){fe={r:0,c:[],p:fe}}function _e(){fe.r||Y(fe.c),fe=fe.p}function V(t,e){t&&t.i&&(Ee.delete(t),t.i(e))}function L(t,e,n,l){if(t&&t.o){if(Ee.has(t))return;Ee.add(t),fe.c.push(()=>{Ee.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}function ie(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Rt(t,e){L(t,1,1,()=>{e.delete(t.key)})}function Pt(t,e,n,l,o,i,s,a,c,r,b,f){let u=t.length,m=i.length,_=u;const S={};for(;_--;)S[t[_].key]=_;const w=[],h=new Map,U=new Map,N=[];for(_=m;_--;){const $=f(o,i,_),z=n($);let O=s.get(z);O?l&&N.push(()=>O.p($,e)):(O=r(z,$),O.c()),h.set(z,w[_]=O),z in S&&U.set(z,Math.abs(_-S[z]))}const P=new Set,B=new Set;function j($){V($,1),$.m(a,b),s.set($.key,$),b=$.first,m--}for(;u&&m;){const $=w[m-1],z=t[u-1],O=$.key,F=z.key;$===z?(b=$.first,u--,m--):h.has(F)?!s.has(O)||P.has(O)?j($):B.has(F)?u--:U.get(O)>U.get(F)?(B.add(O),j($)):(P.add(F),u--):(c(z,s),u--)}for(;u--;){const $=t[u];h.has($.key)||c($,s)}for(;m;)j(w[m-1]);return Y(N),w}function je(t,e){const n={},l={},o={$$scope:1};let i=t.length;for(;i--;){const s=t[i],a=e[i];if(a){for(const c in s)c in a||(l[c]=1);for(const c in a)o[c]||(n[c]=a[c],o[c]=1);t[i]=a}else for(const c in s)o[c]=1}for(const s in l)s in n||(n[s]=void 0);return n}function Fe(t){return typeof t=="object"&&t!==null?t:{}}function X(t){t&&t.c()}function H(t,e,n){const{fragment:l,after_update:o}=t.$$;l&&l.m(e,n),Se(()=>{const i=t.$$.on_mount.map(gt).filter(vt);t.$$.on_destroy?t.$$.on_destroy.push(...i):Y(i),t.$$.on_mount=[]}),o.forEach(Se)}function K(t,e){const n=t.$$;n.fragment!==null&&(Jt(n.after_update),Y(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Dt(t,e){t.$$.dirty[0]===-1&&(ge.push(t),It(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ae(t,e,n,l,o,i,s,a=[-1]){const c=$e;we(t);const r=t.$$={fragment:null,ctx:[],props:i,update:T,not_equal:o,bound:Ke(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Ke(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};s&&s(r.root);let b=!1;if(r.ctx=n?n(t,e.props||{},(f,u,...m)=>{const _=m.length?m[0]:u;return r.ctx&&o(r.ctx[f],r.ctx[f]=_)&&(!r.skip_bound&&r.bound[f]&&r.bound[f](_),b&&Dt(t,f)),u}):[],r.update(),b=!0,Y(r.before_update),r.fragment=l?l(r.ctx):!1,e.target){if(e.hydrate){const f=zt(e.target);r.fragment&&r.fragment.l(f),f.forEach(I)}else r.fragment&&r.fragment.c();e.intro&&V(t.$$.fragment),H(t,e.target,e.anchor),St()}we(c)}class re{constructor(){Re(this,"$$");Re(this,"$$set")}$destroy(){K(this,1),this.$destroy=T}$on(e,n){if(!vt(n))return T;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const o=l.indexOf(n);o!==-1&&l.splice(o,1)}}$set(e){this.$$set&&!Et(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Tt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Tt);const ye=new Map,Ft=t=>{const{action:e,data:n}=t.data,l=ye.get(e);l&&l.forEach(o=>o(n))};window.addEventListener("message",Ft);function Ve(t,e){const n=ye.get(t)||[];n.push(e),ye.set(t,n),Ot(()=>{const l=ye.get(t)||[];ye.set(t,l.filter(o=>o!==e))})}async function se(t,e={}){const n={method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(e)},l=window.GetParentResourceName?window.GetParentResourceName():"nui-frame-app";return await(await fetch(`https://${l}/${t}`,n)).json()}const be=[];function me(t,e=T){let n;const l=new Set;function o(a){if(x(t,a)&&(t=a,n)){const c=!be.length;for(const r of l)r[1](),be.push(r,t);if(c){for(let r=0;r<be.length;r+=2)be[r][0](be[r+1]);be.length=0}}}function i(a){o(a(t))}function s(a,c=T){const r=[a,c];return l.add(r),l.size===1&&(n=e(o,i)||T),a(t),()=>{l.delete(r),l.size===0&&n&&(n(),n=null)}}return{set:o,update:i,subscribe:s}}const Ue=()=>!window.invokeNative,ee=me(Ue()),Be=me(null),Ne=me(null),Me=me(null),le=me(null),he=me(null),Ge=me(null);/**
 * @license lucide-svelte v0.544.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 * ---
 * 
 * The MIT License (MIT) (for portions derived from Feather)
 * 
 * Copyright (c) 2013-2023 Cole Bemis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const Bt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},et=Bt;function tt(t,e,n){const l=t.slice();return l[11]=e[n][0],l[12]=e[n][1],l}function De(t){let e,n=[t[12]],l={};for(let o=0;o<n.length;o+=1)l=q(l,n[o]);return{c(){e=yt(t[11]),ze(e,l)},m(o,i){R(o,e,i)},p(o,i){ze(e,l=je(n,[i&32&&o[12]]))},d(o){o&&I(e)}}}function nt(t){let e=t[11],n,l=t[11]&&De(t);return{c(){l&&l.c(),n=ke()},m(o,i){l&&l.m(o,i),R(o,n,i)},p(o,i){o[11]?e?x(e,o[11])?(l.d(1),l=De(o),e=o[11],l.c(),l.m(n.parentNode,n)):l.p(o,i):(l=De(o),e=o[11],l.c(),l.m(n.parentNode,n)):e&&(l.d(1),l=null,e=o[11])},d(o){o&&I(n),l&&l.d(o)}}}function Gt(t){let e,n,l,o,i,s=ie(t[5]),a=[];for(let u=0;u<s.length;u+=1)a[u]=nt(tt(t,s,u));const c=t[10].default,r=Oe(c,t,t[9],null);let b=[et,t[7],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":l=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:o=t[6]("lucide-icon","lucide",t[0]?`lucide-${t[0]}`:"",t[8].class)}],f={};for(let u=0;u<b.length;u+=1)f=q(f,b[u]);return{c(){e=yt("svg");for(let u=0;u<a.length;u+=1)a[u].c();n=ke(),r&&r.c(),ze(e,f)},m(u,m){R(u,e,m);for(let _=0;_<a.length;_+=1)a[_]&&a[_].m(e,null);d(e,n),r&&r.m(e,null),i=!0},p(u,[m]){if(m&32){s=ie(u[5]);let _;for(_=0;_<s.length;_+=1){const S=tt(u,s,_);a[_]?a[_].p(S,m):(a[_]=nt(S),a[_].c(),a[_].m(e,n))}for(;_<a.length;_+=1)a[_].d(1);a.length=s.length}r&&r.p&&(!i||m&512)&&Ie(r,c,u,u[9],i?Ae(c,u[9],m,null):We(u[9]),null),ze(e,f=je(b,[et,m&128&&u[7],(!i||m&4)&&{width:u[2]},(!i||m&4)&&{height:u[2]},(!i||m&2)&&{stroke:u[1]},(!i||m&28&&l!==(l=u[4]?Number(u[3])*24/Number(u[2]):u[3]))&&{"stroke-width":l},(!i||m&257&&o!==(o=u[6]("lucide-icon","lucide",u[0]?`lucide-${u[0]}`:"",u[8].class)))&&{class:o}]))},i(u){i||(V(r,u),i=!0)},o(u){L(r,u),i=!1},d(u){u&&I(e),Je(a,u),r&&r.d(u)}}}function qt(t,e,n){const l=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let o=Qe(e,l),{$$slots:i={},$$scope:s}=e,{name:a=void 0}=e,{color:c="currentColor"}=e,{size:r=24}=e,{strokeWidth:b=2}=e,{absoluteStrokeWidth:f=!1}=e,{iconNode:u=[]}=e;const m=(..._)=>_.filter((S,w,h)=>!!S&&h.indexOf(S)===w).join(" ");return t.$$set=_=>{n(8,e=q(q({},e),ce(_))),n(7,o=Qe(e,l)),"name"in _&&n(0,a=_.name),"color"in _&&n(1,c=_.color),"size"in _&&n(2,r=_.size),"strokeWidth"in _&&n(3,b=_.strokeWidth),"absoluteStrokeWidth"in _&&n(4,f=_.absoluteStrokeWidth),"iconNode"in _&&n(5,u=_.iconNode),"$$scope"in _&&n(9,s=_.$$scope)},e=ce(e),[a,c,r,b,f,u,m,o,e,s,i]}class Ht extends re{constructor(e){super(),ae(this,e,qt,Gt,x,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}const qe=Ht;function Kt(t){let e;const n=t[2].default,l=Oe(n,t,t[3],null);return{c(){l&&l.c()},m(o,i){l&&l.m(o,i),e=!0},p(o,i){l&&l.p&&(!e||i&8)&&Ie(l,n,o,o[3],e?Ae(n,o[3],i,null):We(o[3]),null)},i(o){e||(V(l,o),e=!0)},o(o){L(l,o),e=!1},d(o){l&&l.d(o)}}}function Qt(t){let e,n;const l=[{name:"chevron-down"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[Kt]},$$scope:{ctx:t}};for(let i=0;i<l.length;i+=1)o=q(o,l[i]);return e=new qe({props:o}),{c(){X(e.$$.fragment)},m(i,s){H(e,i,s),n=!0},p(i,[s]){const a=s&3?je(l,[l[0],s&2&&Fe(i[1]),s&1&&{iconNode:i[0]}]):{};s&8&&(a.$$scope={dirty:s,ctx:i}),e.$set(a)},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){L(e.$$.fragment,i),n=!1},d(i){K(e,i)}}}function Xt(t,e,n){let{$$slots:l={},$$scope:o}=e;const i=[["path",{d:"m6 9 6 6 6-6"}]];return t.$$set=s=>{n(1,e=q(q({},e),ce(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=ce(e),[i,e,l,o]}class Yt extends re{constructor(e){super(),ae(this,e,Xt,Qt,x,{})}}const He=Yt;function Zt(t){let e;const n=t[2].default,l=Oe(n,t,t[3],null);return{c(){l&&l.c()},m(o,i){l&&l.m(o,i),e=!0},p(o,i){l&&l.p&&(!e||i&8)&&Ie(l,n,o,o[3],e?Ae(n,o[3],i,null):We(o[3]),null)},i(o){e||(V(l,o),e=!0)},o(o){L(l,o),e=!1},d(o){l&&l.d(o)}}}function xt(t){let e,n;const l=[{name:"chevron-up"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[Zt]},$$scope:{ctx:t}};for(let i=0;i<l.length;i+=1)o=q(o,l[i]);return e=new qe({props:o}),{c(){X(e.$$.fragment)},m(i,s){H(e,i,s),n=!0},p(i,[s]){const a=s&3?je(l,[l[0],s&2&&Fe(i[1]),s&1&&{iconNode:i[0]}]):{};s&8&&(a.$$scope={dirty:s,ctx:i}),e.$set(a)},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){L(e.$$.fragment,i),n=!1},d(i){K(e,i)}}}function en(t,e,n){let{$$slots:l={},$$scope:o}=e;const i=[["path",{d:"m18 15-6-6-6 6"}]];return t.$$set=s=>{n(1,e=q(q({},e),ce(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=ce(e),[i,e,l,o]}class tn extends re{constructor(e){super(),ae(this,e,en,xt,x,{})}}const nn=tn;function ln(t){let e;const n=t[2].default,l=Oe(n,t,t[3],null);return{c(){l&&l.c()},m(o,i){l&&l.m(o,i),e=!0},p(o,i){l&&l.p&&(!e||i&8)&&Ie(l,n,o,o[3],e?Ae(n,o[3],i,null):We(o[3]),null)},i(o){e||(V(l,o),e=!0)},o(o){L(l,o),e=!1},d(o){l&&l.d(o)}}}function on(t){let e,n;const l=[{name:"plus"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[ln]},$$scope:{ctx:t}};for(let i=0;i<l.length;i+=1)o=q(o,l[i]);return e=new qe({props:o}),{c(){X(e.$$.fragment)},m(i,s){H(e,i,s),n=!0},p(i,[s]){const a=s&3?je(l,[l[0],s&2&&Fe(i[1]),s&1&&{iconNode:i[0]}]):{};s&8&&(a.$$scope={dirty:s,ctx:i}),e.$set(a)},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){L(e.$$.fragment,i),n=!1},d(i){K(e,i)}}}function sn(t,e,n){let{$$slots:l={},$$scope:o}=e;const i=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];return t.$$set=s=>{n(1,e=q(q({},e),ce(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=ce(e),[i,e,l,o]}class an extends re{constructor(e){super(),ae(this,e,sn,on,x,{})}}const rn=an;function lt(t,e,n){const l=t.slice();return l[8]=e[n],l}function ot(t){let e,n,l=t[2].Ui.select.objHead+"",o,i,s,a,c=t[2].Ui.select.objDesc+"",r,b,f,u,m,_,S=ie(t[3]),w=[];for(let h=0;h<S.length;h+=1)w[h]=st(lt(t,S,h));return f=new He({props:{class:"chevron-icon",size:16}}),{c(){e=y("div"),n=y("label"),o=M(l),i=E(),s=y("select"),a=y("option"),r=M(c);for(let h=0;h<w.length;h+=1)w[h].c();b=E(),X(f.$$.fragment),p(n,"for","object-option"),p(n,"class","form-label"),a.__value="",Z(a,a.__value),a.disabled=!0,a.selected=!0,p(s,"id","object-option"),p(s,"class","form-select svelte-19d9t93"),t[1]===void 0&&Se(()=>t[7].call(s)),p(e,"class","form-group svelte-19d9t93")},m(h,U){R(h,e,U),d(e,n),d(n,o),d(e,i),d(e,s),d(s,a),d(a,r);for(let N=0;N<w.length;N+=1)w[N]&&w[N].m(s,null);Le(s,t[1],!0),d(e,b),H(f,e,null),u=!0,m||(_=D(s,"change",t[7]),m=!0)},p(h,U){if((!u||U&4)&&l!==(l=h[2].Ui.select.objHead+"")&&J(o,l),(!u||U&4)&&c!==(c=h[2].Ui.select.objDesc+"")&&J(r,c),U&8){S=ie(h[3]);let N;for(N=0;N<S.length;N+=1){const P=lt(h,S,N);w[N]?w[N].p(P,U):(w[N]=st(P),w[N].c(),w[N].m(s,null))}for(;N<w.length;N+=1)w[N].d(1);w.length=S.length}U&10&&Le(s,h[1])},i(h){u||(V(f.$$.fragment,h),u=!0)},o(h){L(f.$$.fragment,h),u=!1},d(h){h&&I(e),Je(w,h),K(f),m=!1,_()}}}function st(t){let e,n=t[8].label+"",l,o;return{c(){e=y("option"),l=M(n),e.__value=o=t[8].value,Z(e,e.__value)},m(i,s){R(i,e,s),d(e,l)},p(i,s){s&8&&n!==(n=i[8].label+"")&&J(l,n),s&8&&o!==(o=i[8].value)&&(e.__value=o,Z(e,e.__value))},d(i){i&&I(e)}}}function it(t){let e,n,l=t[2].Ui.select.cancel+"",o,i,s,a=t[2].Ui.select.submit+"",c,r,b,f;return{c(){e=y("div"),n=y("button"),o=M(l),i=E(),s=y("button"),c=M(a),p(n,"class","btn decline"),p(s,"class","btn confirm"),s.disabled=r=t[0]==="object"&&!t[1],p(e,"class","button-group")},m(u,m){R(u,e,m),d(e,n),d(n,o),d(e,i),d(e,s),d(s,c),b||(f=[D(n,"click",t[5]),D(s,"click",t[4])],b=!0)},p(u,m){m&4&&l!==(l=u[2].Ui.select.cancel+"")&&J(o,l),m&4&&a!==(a=u[2].Ui.select.submit+"")&&J(c,a),m&11&&r!==(r=u[0]==="object"&&!u[1])&&(s.disabled=r)},d(u){u&&I(e),b=!1,Y(f)}}}function un(t){let e,n,l,o=t[2].Ui.select.header+"",i,s,a,c,r,b,f,u,m=t[2].Ui.select.option1head+"",_,S,w=t[2].Ui.select.option1coords+"",h,U,N=t[2].Ui.select.option1object+"",P,B,j,$,z,O,F,v;j=new He({props:{class:"chevron-icon",size:16}});let g=t[0]==="object"&&ot(t),W=t[0]&&it(t);return{c(){e=y("div"),n=y("div"),l=y("h2"),i=M(o),s=E(),a=y("div"),c=y("div"),r=y("label"),r.textContent="Select Creation Type",b=E(),f=y("select"),u=y("option"),_=M(m),S=y("option"),h=M(w),U=y("option"),P=M(N),B=E(),X(j.$$.fragment),$=E(),g&&g.c(),z=E(),W&&W.c(),p(l,"class","menu-title"),p(n,"class","menu-header"),p(r,"for","main-option"),p(r,"class","form-label"),u.__value="",Z(u,u.__value),u.disabled=!0,u.selected=!0,S.__value="coords",Z(S,S.__value),U.__value="object",Z(U,U.__value),p(f,"id","main-option"),p(f,"class","form-select svelte-19d9t93"),t[0]===void 0&&Se(()=>t[6].call(f)),p(c,"class","form-group svelte-19d9t93"),p(a,"class","form-container"),p(e,"class","menu-container svelte-19d9t93")},m(k,C){R(k,e,C),d(e,n),d(n,l),d(l,i),d(e,s),d(e,a),d(a,c),d(c,r),d(c,b),d(c,f),d(f,u),d(u,_),d(f,S),d(S,h),d(f,U),d(U,P),Le(f,t[0],!0),d(c,B),H(j,c,null),d(a,$),g&&g.m(a,null),d(e,z),W&&W.m(e,null),O=!0,F||(v=D(f,"change",t[6]),F=!0)},p(k,[C]){(!O||C&4)&&o!==(o=k[2].Ui.select.header+"")&&J(i,o),(!O||C&4)&&m!==(m=k[2].Ui.select.option1head+"")&&J(_,m),(!O||C&4)&&w!==(w=k[2].Ui.select.option1coords+"")&&J(h,w),(!O||C&4)&&N!==(N=k[2].Ui.select.option1object+"")&&J(P,N),C&1&&Le(f,k[0]),k[0]==="object"?g?(g.p(k,C),C&1&&V(g,1)):(g=ot(k),g.c(),V(g,1),g.m(a,null)):g&&(de(),L(g,1,1,()=>{g=null}),_e()),k[0]?W?W.p(k,C):(W=it(k),W.c(),W.m(e,null)):W&&(W.d(1),W=null)},i(k){O||(V(j.$$.fragment,k),V(g),O=!0)},o(k){L(j.$$.fragment,k),L(g),O=!1},d(k){k&&I(e),K(j),g&&g.d(),W&&W.d(),F=!1,v()}}}function cn(t,e,n){let l,o;te(t,Ne,f=>n(2,l=f)),te(t,Be,f=>n(3,o=f));let i="",s="";function a(){let f;i==="coords"?f={type:"coords",object:!1}:i==="object"&&(f={type:"object",object:s}),console.log(JSON.stringify(f)),f&&(se("submitSelection",f),Me.set(!1),se("hideUI"))}function c(){n(0,i=""),n(1,s="")}function r(){i=Xe(this),n(0,i)}function b(){s=Xe(this),n(1,s)}return[i,s,l,o,a,c,r,b]}class fn extends re{constructor(e){super(),ae(this,e,cn,un,x,{})}}function at(t,e,n){const l=t.slice();return l[11]=e[n],l[13]=n,l}function rt(t){let e,n,l,o=t[3].Ui.edit.header+"",i,s,a,c,r,b,f=t[3].Ui.edit.del+"",u,m,_,S=t[3].Ui.edit.go2+"",w,h,U,N=t[3].Ui.edit.changeLoc+"",P,B,j,$,z=t[3].Ui.edit.edit+"",O,F,v,g,W=ie(t[1]),k=[];for(let C=0;C<W.length;C+=1)k[C]=ut(at(t,W,C));return{c(){e=y("div"),n=y("div"),l=y("h2"),i=M(o),s=E(),a=y("div");for(let C=0;C<k.length;C+=1)k[C].c();c=E(),r=y("div"),b=y("button"),u=M(f),m=E(),_=y("button"),w=M(S),h=E(),U=y("button"),P=M(N),j=E(),$=y("button"),O=M(z),p(l,"class","menu-title"),p(n,"class","menu-header"),p(a,"class","item-list svelte-z7tsnp"),p(b,"class","btn decline"),p(_,"class","btn confirm"),p(U,"class","btn confirm"),U.disabled=B=t[0]<0,p($,"class","btn confirm"),$.disabled=F=t[0]<0,p(r,"class","button-group"),p(e,"class","menu-container")},m(C,G){R(C,e,G),d(e,n),d(n,l),d(l,i),d(e,s),d(e,a);for(let A=0;A<k.length;A+=1)k[A]&&k[A].m(a,null);d(e,c),d(e,r),d(r,b),d(b,u),d(r,m),d(r,_),d(_,w),d(r,h),d(r,U),d(U,P),d(r,j),d(r,$),d($,O),v||(g=[D(b,"click",t[7]),D(_,"click",t[8]),D(U,"click",t[6]),D($,"click",t[5])],v=!0)},p(C,G){if(G&8&&o!==(o=C[3].Ui.edit.header+"")&&J(i,o),G&27){W=ie(C[1]);let A;for(A=0;A<W.length;A+=1){const Ce=at(C,W,A);k[A]?k[A].p(Ce,G):(k[A]=ut(Ce),k[A].c(),k[A].m(a,null))}for(;A<k.length;A+=1)k[A].d(1);k.length=W.length}G&8&&f!==(f=C[3].Ui.edit.del+"")&&J(u,f),G&8&&S!==(S=C[3].Ui.edit.go2+"")&&J(w,S),G&8&&N!==(N=C[3].Ui.edit.changeLoc+"")&&J(P,N),G&1&&B!==(B=C[0]<0)&&(U.disabled=B),G&8&&z!==(z=C[3].Ui.edit.edit+"")&&J(O,z),G&1&&F!==(F=C[0]<0)&&($.disabled=F)},d(C){C&&I(e),Je(k,C),v=!1,Y(g)}}}function dn(t){let e=t[3].Ui.edit.coords+"",n;return{c(){n=M(e)},m(l,o){R(l,n,o)},p(l,o){o&8&&e!==(e=l[3].Ui.edit.coords+"")&&J(n,e)},d(l){l&&I(n)}}}function _n(t){let e=t[3].Ui.edit.obj+"",n;return{c(){n=M(e)},m(l,o){R(l,n,o)},p(l,o){o&8&&e!==(e=l[3].Ui.edit.obj+"")&&J(n,e)},d(l){l&&I(n)}}}function ut(t){let e,n,l,o=t[11].name+"",i,s,a,c=t[3].Ui.edit.id+"",r,b,f=t[11].id+"",u,m,_,S,w,h,U,N=ue(t[11].loc).x+"",P,B,j=ue(t[11].loc).y+"",$,z,O=ue(t[11].loc).z+"",F,v,g,W,k;function C(ne,Q){return Q&2&&(S=null),S==null&&(S=ue(ne[11].data).object!==!1||ue(ne[11].data).object===null),S?_n:dn}let G=C(t,-1),A=G(t);function Ce(){return t[9](t[13])}function Nt(...ne){return t[10](t[13],...ne)}return{c(){e=y("div"),n=y("div"),l=y("span"),i=M(o),s=E(),a=y("span"),r=M(c),b=M(": "),u=M(f),m=E(),_=y("span"),A.c(),w=E(),h=y("div"),U=M("vector3("),P=M(N),B=M(", "),$=M(j),z=M(", "),F=M(O),v=M(")"),g=E(),p(l,"class","item-name svelte-z7tsnp"),p(a,"class","item-id svelte-z7tsnp"),p(_,"class","item-type svelte-z7tsnp"),p(n,"class","item-header svelte-z7tsnp"),p(h,"class","item-location svelte-z7tsnp"),p(e,"class","list-item svelte-z7tsnp"),p(e,"role","button"),p(e,"tabindex","0"),Ye(e,"selected",t[0]===t[13])},m(ne,Q){R(ne,e,Q),d(e,n),d(n,l),d(l,i),d(n,s),d(n,a),d(a,r),d(a,b),d(a,u),d(n,m),d(n,_),A.m(_,null),d(e,w),d(e,h),d(h,U),d(h,P),d(h,B),d(h,$),d(h,z),d(h,F),d(h,v),d(e,g),W||(k=[D(e,"click",Ce),D(e,"keydown",Nt)],W=!0)},p(ne,Q){t=ne,Q&2&&o!==(o=t[11].name+"")&&J(i,o),Q&8&&c!==(c=t[3].Ui.edit.id+"")&&J(r,c),Q&2&&f!==(f=t[11].id+"")&&J(u,f),G===(G=C(t,Q))&&A?A.p(t,Q):(A.d(1),A=G(t),A&&(A.c(),A.m(_,null))),Q&2&&N!==(N=ue(t[11].loc).x+"")&&J(P,N),Q&2&&j!==(j=ue(t[11].loc).y+"")&&J($,j),Q&2&&O!==(O=ue(t[11].loc).z+"")&&J(F,O),Q&1&&Ye(e,"selected",t[0]===t[13])},d(ne){ne&&I(e),A.d(),W=!1,Y(k)}}}function hn(t){let e,n=t[2]&&rt(t);return{c(){n&&n.c(),e=ke()},m(l,o){n&&n.m(l,o),R(l,e,o)},p(l,[o]){l[2]?n?n.p(l,o):(n=rt(l),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:T,o:T,d(l){l&&I(e),n&&n.d(l)}}}function ue(t){try{return t?JSON.parse(t):null}catch(e){return console.warn("Failed to parse JSON:",t,e),null}}function mn(t,e,n){let l,o,i;te(t,he,_=>n(1,l=_)),te(t,le,_=>n(2,o=_)),te(t,Ne,_=>n(3,i=_));let s=-1;function a(_){n(0,s=_)}function c(){s>=0&&(ee.set(!0),le.set(!1),he.set(l[s]),se("editStash",l[s]))}function r(){s>=0&&(se("changeLocation",l[s]),ee.set(!1),le.set(!1))}function b(){s>=0&&(se("deleteStash",l[s]),ee.set(!1),le.set(!1))}function f(){s>=0&&(se("gotoLoc",l[s]),ee.set(!1),le.set(!1))}return[s,l,o,i,a,c,r,b,f,_=>a(_),(_,S)=>(S.key==="Enter"||S.key===" ")&&a(_)]}class pn extends re{constructor(e){super(),ae(this,e,mn,hn,x,{})}}function ct(t,e,n){const l=t.slice();return l[24]=e[n],l[25]=e,l[26]=n,l}function ft(t,e,n){const l=t.slice();return l[27]=e[n],l[29]=n,l}function bn(t){let e,n,l=t[24].label+"",o,i,s,a,c,r;const b=[yn,kn,vn],f=[];function u(m,_){return m[24].array?0:m[24].type==="number"?1:2}return s=u(t),a=f[s]=b[s](t),{c(){e=y("div"),n=y("label"),o=M(l),i=E(),a.c(),c=E(),p(n,"class","field-label svelte-15og6m4"),p(e,"class","field-container svelte-15og6m4")},m(m,_){R(m,e,_),d(e,n),d(n,o),d(e,i),f[s].m(e,null),d(e,c),r=!0},p(m,_){(!r||_&2)&&l!==(l=m[24].label+"")&&J(o,l);let S=s;s=u(m),s===S?f[s].p(m,_):(de(),L(f[S],1,1,()=>{f[S]=null}),_e(),a=f[s],a?a.p(m,_):(a=f[s]=b[s](m),a.c()),V(a,1),a.m(e,c))},i(m){r||(V(a),r=!0)},o(m){L(a),r=!1},d(m){m&&I(e),f[s].d()}}}function gn(t){return{c:T,m:T,p:T,i:T,o:T,d:T}}function vn(t){let e,n,l,o;function i(){t[21].call(e,t[25],t[26])}return{c(){e=y("input"),p(e,"type","text"),p(e,"placeholder",n=t[24].default||`Enter ${t[24].label.toLowerCase()}`),p(e,"class","form-input")},m(s,a){R(s,e,a),Z(e,t[24].value),l||(o=D(e,"input",i),l=!0)},p(s,a){t=s,a&2&&n!==(n=t[24].default||`Enter ${t[24].label.toLowerCase()}`)&&p(e,"placeholder",n),a&2&&e.value!==t[24].value&&Z(e,t[24].value)},i:T,o:T,d(s){s&&I(e),l=!1,o()}}}function kn(t){let e,n,l,o,i,s,a,c,r,b,f,u,m;function _(){t[18].call(n,t[25],t[26])}a=new nn({props:{size:14}});function S(){return t[19](t[24])}b=new He({props:{size:14}});function w(){return t[20](t[24])}return{c(){e=y("div"),n=y("input"),o=E(),i=y("div"),s=y("button"),X(a.$$.fragment),c=E(),r=y("button"),X(b.$$.fragment),p(n,"type","number"),p(n,"placeholder",l=t[24].default),p(n,"class","form-input number-input svelte-15og6m4"),p(n,"min","0"),p(s,"type","button"),p(s,"class","number-btn svelte-15og6m4"),p(r,"type","button"),p(r,"class","number-btn svelte-15og6m4"),p(i,"class","number-controls svelte-15og6m4"),p(e,"class","number-input-container svelte-15og6m4")},m(h,U){R(h,e,U),d(e,n),Z(n,t[24].value),d(e,o),d(e,i),d(i,s),H(a,s,null),d(i,c),d(i,r),H(b,r,null),f=!0,u||(m=[D(n,"input",_),D(s,"click",S),D(r,"click",w)],u=!0)},p(h,U){t=h,(!f||U&2&&l!==(l=t[24].default))&&p(n,"placeholder",l),U&2&&wt(n.value)!==t[24].value&&Z(n,t[24].value)},i(h){f||(V(a.$$.fragment,h),V(b.$$.fragment,h),f=!0)},o(h){L(a.$$.fragment,h),L(b.$$.fragment,h),f=!1},d(h){h&&I(e),K(a),K(b),u=!1,Y(m)}}}function yn(t){let e,n,l,o,i,s,a,c,r,b,f,u;function m(){t[14].call(n,t[25],t[26])}function _(...h){return t[15](t[24],...h)}s=new rn({props:{size:18}});function S(){return t[16](t[24])}let w=t[24].arrayValues&&t[24].arrayValues.length>0&&dt(t);return{c(){e=y("div"),n=y("input"),o=E(),i=y("button"),X(s.$$.fragment),c=E(),w&&w.c(),r=ke(),p(n,"type","text"),p(n,"placeholder",l=t[24].default||`Add ${t[24].label.toLowerCase()}`),p(n,"class","form-input array-input svelte-15og6m4"),p(i,"type","button"),p(i,"class","add-btn svelte-15og6m4"),i.disabled=a=!t[24].value||t[24].value.trim()==="",p(i,"title","Add item"),p(e,"class","array-input-container svelte-15og6m4")},m(h,U){R(h,e,U),d(e,n),Z(n,t[24].value),d(e,o),d(e,i),H(s,i,null),R(h,c,U),w&&w.m(h,U),R(h,r,U),b=!0,f||(u=[D(n,"input",m),D(n,"keypress",_),D(i,"click",S)],f=!0)},p(h,U){t=h,(!b||U&2&&l!==(l=t[24].default||`Add ${t[24].label.toLowerCase()}`))&&p(n,"placeholder",l),U&2&&n.value!==t[24].value&&Z(n,t[24].value),(!b||U&2&&a!==(a=!t[24].value||t[24].value.trim()===""))&&(i.disabled=a),t[24].arrayValues&&t[24].arrayValues.length>0?w?w.p(t,U):(w=dt(t),w.c(),w.m(r.parentNode,r)):w&&(w.d(1),w=null)},i(h){b||(V(s.$$.fragment,h),b=!0)},o(h){L(s.$$.fragment,h),b=!1},d(h){h&&(I(e),I(c),I(r)),K(s),w&&w.d(h),f=!1,Y(u)}}}function dt(t){let e,n=ie(t[24].arrayValues),l=[];for(let o=0;o<n.length;o+=1)l[o]=_t(ft(t,n,o));return{c(){e=y("div");for(let o=0;o<l.length;o+=1)l[o].c();p(e,"class","array-values svelte-15og6m4")},m(o,i){R(o,e,i);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(e,null)},p(o,i){if(i&34){n=ie(o[24].arrayValues);let s;for(s=0;s<n.length;s+=1){const a=ft(o,n,s);l[s]?l[s].p(a,i):(l[s]=_t(a),l[s].c(),l[s].m(e,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=n.length}},d(o){o&&I(e),Je(l,o)}}}function _t(t){let e,n,l=t[27]+"",o,i,s,a,c,r;function b(){return t[17](t[24],t[29])}return{c(){e=y("div"),n=y("span"),o=M(l),i=E(),s=y("span"),s.textContent="×",a=E(),p(n,"class","array-text svelte-15og6m4"),p(s,"class","delete-icon svelte-15og6m4"),p(e,"class","array-item svelte-15og6m4"),p(e,"title","Click to remove")},m(f,u){R(f,e,u),d(e,n),d(n,o),d(e,i),d(e,s),d(e,a),c||(r=D(e,"click",b),c=!0)},p(f,u){t=f,u&2&&l!==(l=t[27]+"")&&J(o,l)},d(f){f&&I(e),c=!1,r()}}}function ht(t,e){let n,l,o,i,s,a;const c=[gn,bn],r=[];function b(f,u){var m,_,S,w,h,U;return u&2&&(l=null),l==null&&(l=f[24].handle==="jobRank"&&(!((m=f[11]())!=null&&m.arrayValues)||((S=(_=f[11]())==null?void 0:_.arrayValues)==null?void 0:S.length)===0)||f[24].handle==="gangRank"&&(!((w=f[12]())!=null&&w.arrayValues)||((U=(h=f[12]())==null?void 0:h.arrayValues)==null?void 0:U.length)===0)),l?0:1}return o=b(e,-1),i=r[o]=c[o](e),{key:t,first:null,c(){n=ke(),i.c(),s=ke(),this.first=n},m(f,u){R(f,n,u),r[o].m(f,u),R(f,s,u),a=!0},p(f,u){e=f;let m=o;o=b(e,u),o===m?r[o].p(e,u):(de(),L(r[m],1,1,()=>{r[m]=null}),_e(),i=r[o],i?i.p(e,u):(i=r[o]=c[o](e),i.c()),V(i,1),i.m(s.parentNode,s))},i(f){a||(V(i),a=!0)},o(f){L(i),a=!1},d(f){f&&(I(n),I(s)),r[o].d(f)}}}function wn(t){let e,n,l,o,i,s=[],a=new Map,c,r,b,f=t[2].Ui.create.reset+"",u,m,_,S=t[2].Ui.create.submit+"",w,h,U,N,P=ie(t[1]);const B=j=>j[24].handle;for(let j=0;j<P.length;j+=1){let $=ct(t,P,j),z=B($);a.set(z,s[j]=ht(z,$))}return{c(){e=y("div"),n=y("div"),l=y("h2"),l.textContent=`${t[3]}`,o=E(),i=y("div");for(let j=0;j<s.length;j+=1)s[j].c();c=E(),r=y("div"),b=y("button"),u=M(f),m=E(),_=y("button"),w=M(S),p(l,"class","menu-title"),p(n,"class","menu-header"),p(i,"class","form-content svelte-15og6m4"),p(b,"type","button"),p(b,"class","btn decline"),b.disabled=t[0],p(_,"type","button"),p(_,"class","btn confirm"),_.disabled=t[0],p(r,"class","button-group"),p(e,"class","menu-container svelte-15og6m4")},m(j,$){R(j,e,$),d(e,n),d(n,l),d(e,o),d(e,i);for(let z=0;z<s.length;z+=1)s[z]&&s[z].m(i,null);d(e,c),d(e,r),d(r,b),d(b,u),d(r,m),d(r,_),d(_,w),h=!0,U||(N=[D(b,"click",t[10]),D(_,"click",t[9])],U=!0)},p(j,[$]){$&6642&&(P=ie(j[1]),de(),s=Pt(s,$,B,1,j,P,a,i,Rt,ht,null,ct),_e()),(!h||$&4)&&f!==(f=j[2].Ui.create.reset+"")&&J(u,f),(!h||$&1)&&(b.disabled=j[0]),(!h||$&4)&&S!==(S=j[2].Ui.create.submit+"")&&J(w,S),(!h||$&1)&&(_.disabled=j[0])},i(j){if(!h){for(let $=0;$<P.length;$+=1)V(s[$]);h=!0}},o(j){for(let $=0;$<s.length;$+=1)L(s[$]);h=!1},d(j){j&&I(e);for(let $=0;$<s.length;$+=1)s[$].d();U=!1,Y(N)}}}function $n(t,e,n){let l,o,i;te(t,he,v=>n(13,l=v)),te(t,Ne,v=>n(2,o=v)),te(t,Ge,v=>n(22,i=v));let s=o.Ui.create.header,a=!1,c=[{handle:"name",label:o.Ui.create.name,array:!1,default:"my_stash",value:""},{handle:"job",label:o.Ui.create.job,array:!0,default:!1,value:"",arrayValues:[]},{handle:"jobRank",label:o.Ui.create.jobRank,array:!1,type:"number",default:0,value:""},{handle:"gang",label:o.Ui.create.gang,array:!0,default:!1,value:"",arrayValues:[]},{handle:"gangRank",label:o.Ui.create.gangRank,array:!1,type:"number",default:0,value:""},{handle:"item",label:o.Ui.create.item,array:!0,default:!1,value:"",arrayValues:[]},{handle:"identifier",label:o.Ui.create.identifier,array:!0,default:!1,value:"",arrayValues:[]},{handle:"maxWeight",label:o.Ui.create.weight,array:!1,type:"number",default:i.maxWeight,value:""},{handle:"slots",label:o.Ui.create.slots,array:!1,type:"number",default:i.slots,value:""},{handle:"password",label:o.Ui.create.password,array:!1,default:!1,value:""}];function r(v){v.value&&v.value.trim()!==""&&(v.arrayValues||(v.arrayValues=[]),v.arrayValues.push(v.value.trim()),v.value="",n(1,c=[...c]))}function b(v,g){v.arrayValues&&(v.arrayValues.splice(g,1),n(1,c=[...c]))}function f(v){const g=parseInt(v.value)||0;v.value=(g+1).toString(),n(1,c=[...c])}function u(v){const g=parseInt(v.value)||0;g>0&&(v.value=(g-1).toString(),n(1,c=[...c]))}function m(v,g){v.key==="Enter"&&r(g)}async function _(){n(0,a=!0);const v={};c.forEach(g=>{g.array?!g.arrayValues||g.arrayValues.length===0?v[g.handle]=!1:v[g.handle]=g.arrayValues:g.type==="number"?v[g.handle]=g.value?Number(g.value):Number(g.default):v[g.handle]=g.value||g.default}),l?(await se("saveEdit",{form:v,id:l}),S(),le.set(!1),ee.set(!1),he.set(null)):await se("createStash",v),ee.set(!1),n(0,a=!1)}function S(){c.forEach(v=>{v.value="",v.arrayValues=[]}),n(1,c=[...c])}function w(){return c.find(v=>v.handle==="job")}function h(){return c.find(v=>v.handle==="gang")}function U(v){try{const g=typeof v.data=="string"?JSON.parse(v.data):v.data||{},W=typeof v.loc=="string"?JSON.parse(v.loc):v.loc||{};c.forEach(k=>{if(k.handle==="name"){k.value=v.name||k.default;return}if(k.handle==="maxWeight"&&g.weight!==void 0){k.value=g.weight;return}if(k.handle==="slots"&&g.slots!==void 0){k.value=g.slots;return}if(k.handle==="password"){k.value=g.password===!1?"":g.password;return}if(k.array&&g[k.handle]!==void 0){Array.isArray(g[k.handle])?k.arrayValues=[...g[k.handle]]:g[k.handle]===!1&&(k.arrayValues=[]);return}if(!k.array&&g[k.handle]!==void 0){k.value=g[k.handle];return}k.value=k.default,k.array&&(k.arrayValues=[])}),n(1,c=[...c])}catch(g){console.error("Failed to parse editable data:",g)}}function N(v,g){v[g].value=this.value,n(1,c)}const P=(v,g)=>m(g,v),B=v=>r(v),j=(v,g)=>b(v,g);function $(v,g){v[g].value=wt(this.value),n(1,c)}const z=v=>f(v),O=v=>u(v);function F(v,g){v[g].value=this.value,n(1,c)}return t.$$.update=()=>{t.$$.dirty&8192&&l&&U(l)},[a,c,o,s,r,b,f,u,m,_,S,w,h,l,N,P,B,j,$,z,O,F]}class Ut extends re{constructor(e){super(),ae(this,e,$n,wn,x,{})}}function mt(t){let e,n;return e=new Ut({}),{c(){X(e.$$.fragment)},m(l,o){H(e,l,o),n=!0},i(l){n||(V(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function pt(t){let e,n;return e=new fn({}),{c(){X(e.$$.fragment)},m(l,o){H(e,l,o),n=!0},i(l){n||(V(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function bt(t){let e,n;return e=new pn({}),{c(){X(e.$$.fragment)},m(l,o){H(e,l,o),n=!0},i(l){n||(V(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function Sn(t){let e,n,l,o,i=t[0]&&mt(),s=t[1]&&pt(),a=t[2]&&bt();return{c(){e=y("main"),i&&i.c(),n=E(),s&&s.c(),l=E(),a&&a.c()},m(c,r){R(c,e,r),i&&i.m(e,null),d(e,n),s&&s.m(e,null),d(e,l),a&&a.m(e,null),o=!0},p(c,[r]){c[0]?i?r&1&&V(i,1):(i=mt(),i.c(),V(i,1),i.m(e,n)):i&&(de(),L(i,1,1,()=>{i=null}),_e()),c[1]?s?r&2&&V(s,1):(s=pt(),s.c(),V(s,1),s.m(e,l)):s&&(de(),L(s,1,1,()=>{s=null}),_e()),c[2]?a?r&4&&V(a,1):(a=bt(),a.c(),V(a,1),a.m(e,null)):a&&(de(),L(a,1,1,()=>{a=null}),_e())},i(c){o||(V(i),V(s),V(a),o=!0)},o(c){L(i),L(s),L(a),o=!1},d(c){c&&I(e),i&&i.d(),s&&s.d(),a&&a.d()}}}function Un(t,e,n){let l,o,i;return te(t,ee,s=>n(0,l=s)),te(t,Me,s=>n(1,o=s)),te(t,le,s=>n(2,i=s)),ee.subscribe(s=>{}),Ve("setVisible",s=>{ee.set(s)}),Ve("firstMenu",()=>{Me.set(!0)}),Ve("editMenu",s=>{s===!1?(le.set(!1),he.set(null)):(le.set(!0),he.set(s))}),Ve("setEditable",s=>{ee.set(!0)}),Lt(async()=>{if(!Ue())try{let a=await se("initUi");Be.set(a.Config),Ne.set(a.lang),Ge.set(a.defaults)}catch(a){console.warn("Failed to fetch UI data from NUI (expected in browser mode):",a)}const s=a=>{["Escape"].includes(a.code)&&(Ue()||se("hideUI"),ee.set(!1),Me.set(!1),le.set(!1),he.set(null))};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)}),[l,o,i]}class jn extends re{constructor(e){super(),ae(this,e,Un,Sn,x,{})}}const oe=(t,e=1e3)=>{if(Ue())for(const n of t)setTimeout(()=>{window.dispatchEvent(new MessageEvent("message",{data:{action:n.action,data:n.data}}))},e)};function Nn(t){let e,n,l,o,i,s,a,c,r,b,f,u;return{c(){e=y("div"),n=y("h4"),n.textContent="Dev Controls",l=E(),o=y("button"),o.textContent="Create Stash",i=E(),s=y("button"),s.textContent="Select Stash Type",a=E(),c=y("button"),c.textContent="Edit Stash",r=E(),b=y("button"),b.textContent="Hide All",p(n,"class","svelte-7zc587"),p(o,"class","btn confirm svelte-7zc587"),p(s,"class","btn confirm svelte-7zc587"),p(c,"class","btn confirm svelte-7zc587"),p(b,"class","btn decline svelte-7zc587"),p(e,"class","dev-controls svelte-7zc587")},m(m,_){R(m,e,_),d(e,n),d(e,l),d(e,o),d(e,i),d(e,s),d(e,a),d(e,c),d(e,r),d(e,b),f||(u=[D(o,"click",t[2]),D(s,"click",t[0]),D(c,"click",t[1]),D(b,"click",t[3])],f=!0)},p:T,i:T,o:T,d(m){m&&I(e),f=!1,Y(u)}}}function Cn(t){function e(){oe([{action:"setVisible",data:!0},{action:"firstMenu",data:!0}],100)}function n(){oe([{action:"setVisible",data:!0},{action:"editMenu",data:jt}],100)}function l(){oe([{action:"firstMenu",data:!1},{action:"editMenu",data:!1}],50),setTimeout(()=>{oe([{action:"setVisible",data:!0}],10)},150)}function o(){oe([{action:"setVisible",data:!1},{action:"firstMenu",data:!1},{action:"editMenu",data:!1}],100)}return[e,n,l,o]}class Vn extends re{constructor(e){super(),ae(this,e,Cn,Nn,x,{})}}const jt=[{id:1,name:"police_locker",loc:JSON.stringify({x:461.8,y:-985.3,z:30.7}),data:JSON.stringify({object:!1}),job:"police"},{id:2,name:"gang_stash",loc:JSON.stringify({x:123.4,y:-456.7,z:28.1}),data:JSON.stringify({object:"prop_container_01a"}),gang:"ballas"},{id:3,name:"personal_safe",loc:JSON.stringify({x:-789.1,y:234.5,z:15.2}),data:JSON.stringify({object:"prop_ld_int_safe_01"}),password:!0}],En=[{value:"prop_container_01a",label:"Small Container"},{value:"prop_container_01b",label:"Medium Container"},{value:"prop_ld_int_safe_01",label:"Safe"},{value:"prop_toolchest_01",label:"Tool Chest"},{value:"prop_locker_01",label:"Locker"},{value:"prop_crate_01a",label:"Wooden Crate"}],Mn={Ui:{create:{header:"Create Stash",name:"Stash Name",job:"Job",jobRank:"Job Rank",gang:"Gang",gangRank:"Gang Rank",item:"Required Item",identifier:"Identifier",weight:"Max Weight",slots:"Slots",password:"Password",submit:"Create Stash",reset:"Reset",cancel:"Cancel"},select:{header:"Select Stash Type",option1head:"Choose an option",option1coords:"Create at coordinates",option1object:"Create on object",objHead:"Select Object",objDesc:"Select an object",submit:"Confirm Selection",cancel:"Cancel"},edit:{header:"Edit Stash",id:"ID",obj:"Object",coords:"Coordinates",del:"Delete",go2:"Go To",changeLoc:"Change Location",edit:"Edit"}}},zn={maxWeight:1e5,slots:50},Ln=()=>{Ue()&&(oe([{action:"setVisible",data:!0}]),Be.set(En),Ne.set(Mn),Ge.set(zn),new Vn({target:document.body}),typeof window<"u"&&(window.showSelectMenu=()=>{oe([{action:"setVisible",data:!0},{action:"firstMenu",data:!0}],100)},window.showEditMenu=()=>{oe([{action:"setVisible",data:!0},{action:"editMenu",data:jt}],100)},window.showCreateStash=()=>{oe([{action:"setVisible",data:!0},{action:"firstMenu",data:!1},{action:"editMenu",data:!1}],100)},window.hideAll=()=>{oe([{action:"setVisible",data:!1},{action:"firstMenu",data:!1},{action:"editMenu",data:!1}],100)}))};function On(t){let e,n;return e=new Ut({}),{c(){X(e.$$.fragment)},m(l,o){H(e,l,o),n=!0},i(l){n||(V(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function An(t){let e,n,l;return n=new jn({props:{$$slots:{default:[On]},$$scope:{ctx:t}}}),{c(){e=y("main"),X(n.$$.fragment)},m(o,i){R(o,e,i),H(n,e,null),l=!0},p(o,[i]){const s={};i&1&&(s.$$scope={dirty:i,ctx:o}),n.$set(s)},i(o){l||(V(n.$$.fragment,o),l=!0)},o(o){L(n.$$.fragment,o),l=!1},d(o){o&&I(e),K(n)}}}function In(t){return Ln(),[]}class Wn extends re{constructor(e){super(),ae(this,e,In,An,x,{})}}new Wn({target:document.getElementById("app")});
